(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"+GGL":function(module,exports,e){},"+lOM":function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pseudo":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"06Ht":function(module,exports,e){e("EGbX")},"2RWD":function(module,exports,e){},"3w12":function(module,exports,e){},"4Vr2":function(module,exports,e){e("U4Db")},"4suC":function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),o=t("F/us"),s=t.n(o),c=t("8cuT"),u=t("pR6o"),d=t("L1vm"),l=t("sQ/U"),m=t("EdUP"),p=t("17x9"),b=t.n(p),g=t("welz"),v=t.n(g),f=t("RIqP"),h=t.n(f),S=t("Af4h"),y=t.n(S),I=t("47m/"),w=t.n(I),E=t("oYk5"),C=t.n(E),A=t("ZwCU"),O=t.n(A),k=t("BVC1"),P=t("i8i4"),T=t.n(P),x=t("1mBx"),j=t.n(x),N=(t("3Hqd"),t("tta6"));function createMountNode(e){var t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,document.body.appendChild(t)),t}function runTrackingRouter(e,t){return Object(N.a)({routes:e}).then((function(e){return T.a.render(r.createElement(j.a,e),t),e.router}))}var R,D,V,U,ReactRouterAdapter_App=function(e){var t=e.children;return(r.createElement("div",null,R||(R=r.createElement("div",{"data-js":"origami"})),t))};ReactRouterAdapter_App.propTypes={children:r.PropTypes.node};var L,M=function(e){function NotFoundRedirect(){return e.apply(this,arguments)||this}i()(NotFoundRedirect,e);var t=NotFoundRedirect.prototype;return t.componentWillMount=function(){U.trigger("error",404)},t.render=function(){return null},NotFoundRedirect}(r.Component),ReactRouterAdapter_legacyRouteHandler=function(e,t,n){var a;return(a=function(a){function LegacyRouteHandler(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))||this).state={userConfirmed:!1},e.routerWillLeave=function(t){return!!e.state.userConfirmed||(t?(e.setState({nextLocation:t}),U.trigger("routerWillLeave",(function(t){t?e.setState({userConfirmed:t},(function(){e.context.router.push(e.state.nextLocation)})):e.setState({nextLocation:null,userConfirmed:!1})})),!1):void 0)},e}i()(LegacyRouteHandler,a);var o=LegacyRouteHandler.prototype;return o.componentDidMount=function(){this.executeLegacyRoute()},o.componentDidUpdate=function(e){this.props.location.key!==e.location.key&&this.executeLegacyRoute()},o.executeLegacyRoute=function(){var i=t(e,this.context.router.params);n.apply(this,i.concat(this.context.router.location.query)),this.context.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)},o.render=function(){return D||(D=r.createElement("div",null))},LegacyRouteHandler}(r.Component)).propTypes={location:r.PropTypes.object.isRequired,route:r.PropTypes.object.isRequired},a.contextTypes={router:r.PropTypes.object.isRequired},a},F=U=new(function(){function ReactRouterAdapter(){this.routes={},this.nativeRoutes=[],this.visitedFragments=[],O.a.emitter(this)}var e=ReactRouterAdapter.prototype;return e.addRoutes=function(e,t){t?Object.assign(this.routes,s()(e).mapObject(t)):Object.assign(this.routes,e)},e.addNativeRoutes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.nativeRoutes.push(e)},e.getLegacyRoutes=function(e){var t=this;return s()(this.routes).map((function(n,i){return i?r.createElement(w.a,{key:i,path:i,component:ReactRouterAdapter_legacyRouteHandler(i,t.getLegacyRouteParams,n)}):r.createElement(y.a,{key:"index:".concat(e),component:ReactRouterAdapter_legacyRouteHandler(i,t.getLegacyRouteParams,n)})}))},e.getRoutes=function(e){if(!this.getLegacyRoutes(e).length&&this.nativeRoutes.length)return this.nativeRoutes;var t=[].concat(h()(this.getLegacyRoutes(e)),h()(this.nativeRoutes),[V||(V=r.createElement(w.a,{path:"*",key:"notFoundRoute",component:M}))]);return(r.createElement(w.a,{path:e,component:ReactRouterAdapter_App},t))},e.getLegacyRouteParams=function(e,t){var n=e.match(/\:\w*/g);return n?s()(n).chain().compact().invoke("slice",1).reduce((function(e,n){return e.concat(t[n])}),[]).value():[]},e.setupLinks=function(e,t){this.routePrefix=e,this.linkSelector=t,C()("body").on("click","a"+this.linkSelector,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),this.navigate(C()(e.currentTarget).attr("href"),!0))}.bind(this))},e.navigate=function(e,t){var n=e;0!==n.indexOf(this.routePrefix)&&(n=k.a.join(this.routePrefix,n)),t&&t.replace||this.addFragmentToVisited(n),!0===t||t&&!0===t.trigger?t&&t.replace?this.rr.replace(n):this.rr.push(n):t&&t.replace?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)},e.navigateTo=function(e,t){if(!e&&""!==e)throw new Error("router.navigateTo received no href");this.navigate(e.replace(this.routePrefix,""),t)},e.addFragmentToVisited=function(e){this.visitedFragments.push(e)},e.start=function(e,t){var n=this,i=createMountNode("rendered-content");runTrackingRouter(this.getRoutes(e),i).then((function(e){n.rr=e}))},ReactRouterAdapter}()),G=t("3tO9"),q=t.n(G),B=t("cDf5"),H=t.n(B),W=t("S+eF"),z=t.n(W),Q=t("rC9M"),Y=t.n(Q),J=function(e){function ContextProvider(t){var n;n=e.call(this,t)||this;var i={};return Object.keys(t.customContext).forEach((function(e){i[e]=b.a.any})),ContextProvider.childContextTypes=q()(q()({},ContextProvider.childContextTypes),i),n}i()(ContextProvider,e);var t=ContextProvider.prototype;return t.getChildContext=function(){return Object.assign({},this.props.customContext)},t.render=function(){return r.cloneElement(this.props.children,this.props)},ContextProvider}(r.Component);L=J,J.displayName=L,J.childContextTypes={};var X=J,K=t("5lq0");function provideRequestCountryCode(e){var t=e.displayName||e.name,n=function(t){function RequestCountryCodeContextProvider(){return t.apply(this,arguments)||this}i()(RequestCountryCodeContextProvider,t);var n=RequestCountryCodeContextProvider.prototype;return n.getChildContext=function(){return{requestCountryCode:K.a}},n.render=function(){return r.createElement(e,this.props)},RequestCountryCodeContextProvider}(r.Component);return n.displayName=t+"RequestCountryCodeContextProvider",n.childContextTypes={requestCountryCode:b.a.string},n}var Z=t("ROEb"),ee=t("zdiy"),te=t.n(ee),ne=t("JpaV"),ie=t.n(ne),re=t("HTi0"),ae={defaults:{autofocus:!0,"bind.open":"click","bind.close":"click","bind.action":"click","attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","attribute.action":"data-modal-action","attribute.focus":"data-modal-focus","attribute.focus.index":1e4,"animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,count:0,prevScroll:null,prevModal:null,getModal:function(e,t){var n=C()(e).data("modal.me");return n&&n.constructor==modals_Modal.prototype.constructor?t?n.customize(t):n:null},makeModal:function(e,t){var n=C()(e),i=ae.getModal(n);return i||(i=new modals_Modal(n,t),n.data("modal.me",i)),i},setOverlayHeight:function(){C()(window).height()<C()(document).height()?ae.$overlay.css({height:C()(document).height()+"px"}):ae.$overlay.css({height:"100%"})},observeKeyPress:function(e){this.options["overlay.close"]&&(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0===e.which)&&(this.emitter.trigger("action",!1,this),this.close()),this.emitter.trigger("key",e)},cycleTabs:function(e){var t=this.$el.find("a,input,select,textarea,button").filter(":visible");9==e.keyCode&&C()(e.target).is(t.last())&&window.setTimeout((function(){t.first().focus()}),0)},actionTrigger:function(e){var t=C()(e.currentTarget).attr(this.options["attribute.action"]);this.emitter.trigger("action",t,this)},open:function(){if("fixed"!=this.options.position&&(ae.prevScroll={top:C()(document).scrollTop(),left:C()(document).scrollLeft()},window.scrollTo(0,0)),this.$iframe){var e=this.options["iframe.url"]||C()(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",e),this.$iframe.focus()}else{for(var t=this.$el.find("["+this.options["attribute.focus"]+"]"),n=this.$el.find("a,input,select,textarea,button"),i=0;i<n.length;i++)n.eq(i).attr("tabindex",this.options["attribute.focus.index"]+1+i);this.options.autofocus&&(t.size()>0?(t.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),t.filter(":visible").eq(0).focus()):n.size()>0&&(n.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),n.filter(":visible").eq(0).focus()))}this.state=1,this.$el.on(this.options["bind.action"],"["+this.options["attribute.action"]+"]",ie()(ae.actionTrigger,this)),this.emitter.trigger("open")},close:function(){var e=this.$el.find("iframe");this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&e.size()&&e.attr({src:"about:blank"}),ae.prevScroll&&(window.scrollTo(ae.prevScroll.left,ae.prevScroll.top),ae.prevScroll=null),this.anchor=null,this.$parent.append(this.$el),this.state=0,this.emitter.trigger("close")}},modals_Modal=function(e,t){this.$el=C()(e),this.state=0,this.$parent=this.$el.parent(),this.customize(t),this.emitter=O.a.emitter(this)};modals_Modal.prototype.customize=function(e){return this.options=te()({},re.a.parse(this.$el,ae.defaults,"data-modal-"),e),this},modals_Modal.prototype.open=function(){var e,t=this;if(this.anchor&&(e=C()(this.anchor).attr(this.options["attribute.iframe"])),this.options["iframe.url"]&&(e=this.options["iframe.url"]),e&&(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(e)&&(this.$iframe.size()&&this.$iframe.attr("src")==e||(this.$iframe.attr("src","about:blank").remove(),this.$iframe=C()("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),0!=this.state&&this.$iframe.attr("src",e)))),0==this.state)return this.options["overlay.show"]&&(ae.$overlay&&"none"!=ae.$overlay.css("display")&&ae.$overlay.hasClass(this.options["overlay.class"])?this.$overlay=ae.$overlay:(ae.$overlay&&ae.$overlay.off(".modal").hide().remove(),this.$overlay=ae.$overlay=C()("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),C()("body").append(this.$overlay)),ae.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"]?this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]}):this.$overlay.show(),ae.count++,this.$overlay.data("modal",this)),this.emitter.trigger("opening"),"fixed"==this.options.position&&0!==this.$el.closest("html").length||this.$el.appendTo("body"),this.reposition(),this.$el.show(),this.options["animate.modal.open"]?this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function(){ae.open.call(t)}}):ae.open.call(this),C()(window).on("resize.modal",ie()(ae.setOverlayHeight,t)).on("resize.modal",ie()(t.reposition,t)).on("scroll.modal",ie()(t.reposition,t)),this.$el.on("keydown.modal",ie()(ae.cycleTabs,t)),C()(window).on("keyup.modal",ie()(ae.observeKeyPress,t)),this.options["overlay.close"]&&this.$overlay.on(this.options["bind.close"]+".modal",(function(e){t.emitter.trigger("action",!1,t),t.close()})),this.options["attribute.close"]&&this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",(function(e){var n=C()(e.currentTarget);"disabled"!=n.attr("disabled")&&(void 0===n.attr(t.options["attribute.action"])&&t.emitter.trigger("action",!1,t),t.close())})),this},modals_Modal.prototype.reposition=function(){var e=this.options["position.left"],t=this.options["position.top"];return e&&this.$el.css({position:this.options.position,left:e,marginLeft:/%/.test(e)?this.$el.outerWidth()/2*-1:0,zIndex:this.options["z.index"]++}),t&&this.$el.css({position:this.options.position,top:t,marginTop:/%/.test(t)?this.$el.outerHeight()/2*-1:0,zIndex:this.options["z.index"]++}),this},modals_Modal.prototype.close=function(){var e=this;if(1==this.state&&!1!==this.trigger("closeRequest"))return this.$el.off(".modal"),C()(window).off(".modal"),this.emitter.trigger("closing"),this.options["animate.modal.close"]?this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function(){ae.close.call(e)}}):ae.close.call(this),0==--ae.count&&this.options["overlay.show"]&&this.$overlay&&(this.$overlay.off(".modal"),this.options["animate.overlay.close"]?this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function(){this.$overlay.hide().remove()}}):this.$overlay.hide().remove()),this};var external=function(){return ae.getModal.apply(null,arguments)||ae.makeModal.apply(this,arguments)};external.start=function(e,t){var n=C()(e),i=te()({},ae.defaults,t);n.data("modals-initialized")||(n.data("modals-initialized",1),n.on(i["bind.open"]+".modal","["+i["attribute.open"]+"]",(function(e){var t=C()(this),r=t.attr(i["attribute.open"]),a=n.find(r);i=te()({},i,re.a.parse(a,ae.defaults,"data-modal-"));var o=ae.getModal(a,i)||ae.makeModal(a,i);!/^https?:\/\/|^\/|^\.\.\//.test(t.attr("href"))||e.ctrlKey||e.metaKey||e.preventDefault(),o.anchor=this,ae.prevModal=a[0],o.open()})))},external.stop=function(e){var t=C()(e);t.unbind(".modal"),t.data("modals-initialized",0),ae.prevModal&&modals_Modal(ae.prevModal).close()},external.start("body");var oe=external;v.a.View.prototype._super=function(e){return this.constructor.__super__[e].apply(this,s.a.rest(arguments))};var se=null,ce={current:null,body:"#origami",views:{},openDepth:0,beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function(e){if(!e)return!1;if(!(!e.view||!e.view.hasUnsavedModel)&&e.view.hasUnsavedModel())return!0;for(var t in e.regions){var n=e.regions[t];if(ce.regionHasUnsavedModel(n))return!0}return!1}},ue=v.a.Router.extend({initialize:function(){this.routePrefix="",this.visitedFragments=[],this.$confirmNavigation=C()(Y()({})),C()("body").append(this.$confirmNavigation),C()(window).on("beforeunload.origami",(function(){if(ce.regionHasUnsavedModel(ce.current))return ce.beforeUnloadMessage}))},setupLinks:function(e,t){var n=this;this.routePrefix=e,this.linkSelector=t,C()("body").on("click","a"+this.linkSelector,(function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),n.navigateTo(C()(e.currentTarget).attr("href"),!0))}))},addFragmentToVisited:function(e,t){"object"===H()(t)&&t.replace||(this.visitedFragments?this.visitedFragments.push(e):this.visitedFragments=[e])},navigateTo:function(e,t){e||Z.a.error("router.navigateTo received no href"),this.navigate(e.replace(this.routePrefix,""),t)},navigate:function(e,t){if(ce.current&&ce.regionHasUnsavedModel(ce.current)){C()(".confirm-navigation-message").text(ce.beforeUnloadMessage),C()(".confirm-navigation-leave").one("click",function(n){this.addFragmentToVisited(e),v.a.Router.prototype.navigate.call(n.currentTarget,e,t)}.bind(this));oe(".confirm-navigation",{"overlay.class":"coursera-overlay"}).open()}else this.addFragmentToVisited(e,t),v.a.Router.prototype.navigate.call(this,e,t)},addRoutes:function(e,t){var n=this;for(var i in e){var r=e[i];t&&(r=t(r)),n.route(i,i,r),n.route(i+"/",i+"/",(function(){var e=v.a.history.getFragment().replace(/\/(?:\?.*)*$/,"");n.navigate(e,{trigger:!0,replace:!0})}))}},start:function(e){v.a.history.start({pushState:!0,hashChange:!1,root:e})||this.trigger("error",404)},unsavedWarningModal:function(e){if(ce.current&&ce.regionHasUnsavedModel(ce.current)){C()(".confirm-navigation-message").text(ce.beforeUnloadMessage);var t=oe(".confirm-navigation",{"overlay.class":"coursera-overlay"});t.once("action",(function(t){e(t)})),t.open()}else e(!0)}}),backbone_origami_region=function(e,t){var n=t||{};this.type=e,this.regions=n.regions||{},this.initialize=n.initialize||{},this.to=n.to,this.options={},this.props=t.props||{},this.context=t.context||{},this.fluxibleContext=t.fluxibleContext,this.reactRouter=t.reactRouter,this.id=n.id||e.prototype.name,this.name=e.prototype.name||n.name,this.view=null,this.regions=C.a.extend({},e.prototype.subregions,n.regions||{})};backbone_origami_region.prototype.close=function(e){var t=this;s.a.each(t.regions,(function(n,i){delete t.regions[i],n&&n.close(e)})),t.view.trigger("view:closed"),e||t.view.remove(),t.view.undelegateEvents(),t.view.off("view")},backbone_origami_region.prototype.closing=function(){this.view.trigger("view:closing"),delete ce.views[this.view.cid]},backbone_origami_region.prototype.render=function(e){var t=this,n=s.a.compact(s.a.values(t.regions));return s.a.each(n,(function(e){e.render(),e.parent=t})),this.type.prototype.isReactComponent?(this.kind="react_region",this.renderReactComponent()):(this.kind="backbone_region",this.renderBackboneView()),s.a.each(n,(function(e){var n=e.view&&e.view.el,i=e.to||e.view&&e.view.to;s.a.isFunction(i)&&(i=i()),i&&!C.a.contains(document,n)&&(t.view.$(i).append(n),e.appended())})),e&&t.view.on("view:appended",(function(){e.trigger("region:appended",{name:t.name})})),t},backbone_origami_region.prototype.renderBackboneView=function(){this.view=new this.type(this.initialize),this.view.region=this,this.view.render(this.render)},backbone_origami_region.prototype.renderReactComponent=function(){var e=this.context.fluxibleContext,t=this.context.router,n=Object.assign({},e?q()({fluxibleContext:e},e):{},t?{router:t}:{}),i=s.a.compose(provideRequestCountryCode)(this.type);this.view=new v.a.View,this.view.region=this;var r=a.a.createElement(X,{customContext:n},a.a.createElement(i,this.props));this.view.remove=function(){return T.a.unmountComponentAtNode(this.el),v.a.View.prototype.remove.call(this),this},this.view.on("view:appended",(function(){T.a.render(r,this.el)}))},backbone_origami_region.prototype.appended=function(){var e=this;e.view&&setTimeout((function(){e.view.trigger("view:appended")}),0)},backbone_origami_region.prototype.append=function(e,t){var n=this,i=z.a.defer();this.regions||(this.regions={});var renderAndAppend=function(r){for(var a,o=e,c=0;n.regions[o];)o+=++c;if(n.regions[o]=r,r.render(se),a=t.to?s.a.isElement(t.to)?n.view.$(t.to):t.to:n.view.$el,s()(t).has("position")){var u=a.children().eq(t.position);u.length>0?C()(u[0]).before(r.view.el):a.append(r.view.el)}else a.append(r.view.el);r.appended(),se.renderedRegions.push(r),se.trigger("region:rendered",{name:r}),i.resolve(r)};return void 0!==e&&("string"==typeof e?se.region.fetch(e,t,renderAndAppend):renderAndAppend(new backbone_origami_region(e,t))),i.promise},backbone_origami_region.prototype.is=function(e){return e.type==this.type&&e.id==this.id},backbone_origami_region.prototype.replace=function(e,t){this.view.$el.replaceWith(e.view.el),t&&t()},backbone_origami_region.prototype.merge=function(e,t){var n=this;n.is(e)?s.a.each(e.regions,(function(e,i){var r=n.regions[i];r&&e?(r.view.trigger("view:merging",e.initialize),r.merge(e,t),r.view.trigger("view:merged",e.initialize)):r&&!e&&(r.closing(),r.parent&&delete r.parent.regions[r.name],r.close())})):n.name==e.name&&(n.closing(),e.render(t),n.replace(e,(function(){n.parent&&(n.parent.regions[e.name]=e,e.parent=n.parent,n.parent.appended()),n.close(),e.appended()})))};var backbone_origami_Origami=function(e,n){if(se)return se;this.renderedRegions=[],se=this,ce.body=e,ce.current=n,C()(window).on("resize",(function(){for(var e in ce.views)ce.views[e].trigger("view:resize")})),this.region={make:function(e,t){return new backbone_origami_region(e,t)},fetch:function(e,n,i){var r=s.a.uniqueId();se.trigger("region:fetching",{name:e,uid:r});var returnRegion=function(t){se.trigger("region:fetched",{name:e,uid:r}),i(new backbone_origami_region(t,n))},module=n.module,a=n.async;if(module&&module.lazy||module&&a)module(returnRegion);else if(module)returnRegion(module);else{var o,c;c=null!==(o=jest)&&void 0!==o&&o.requireActual?function(e,n){return n(t("AbQT")(e[0]))}:void 0,se.trigger("deprecatedUsage",{type:"asyncRequire",name:e}),c([e],returnRegion)}},getSingleton:function(){return se},append:function(e,t,n,i){e||(e={regions:{}});var renderAndAppend=function(n){for(var r=t,a=0;e.regions[r];)r+=++a;return e.regions[r]=n,n.render(se),i&&i(n),n.appended(),se.renderedRegions.push(n),se.trigger("region:rendered",{name:n}),n};if(void 0!==t){if("string"!=typeof t)return renderAndAppend(new backbone_origami_region(t,n));se.region.fetch(t,n,renderAndAppend)}},open:function(e,t){var n=e,i={};0===ce.openDepth&&se.trigger("open"),ce.openDepth++;var onFetch=function(e){var n=[];s.a.each(e.regions,(function(t,i){if(t){var r=z.a.defer();se.region.open(t,(function(t){"backbone_region"==t.kind&&i!=t.name&&Z.a.error("Region configured with name "+i+" but has name "+t.name),e.regions[i]=t,r.resolve(t)})),n.push(r.promise)}})),z.a.allSettled(n).then((function(){if(t)return t(e);if(ce.current){if(ce.current.is(e))return void ce.current.merge(e,se);if(ce.current.name==e.name)return e.render(se),void ce.current.replace(e,(function(){ce.current.close(),ce.current=e,ce.current.appended()}));ce.current.close(!0)}se.dontRender||(ce.current=e,C()(ce.body).html(ce.current.render(se).view.$el),ce.current.appended())})).done((function(){--ce.openDepth<=0&&(se.on("close",(function(){se.renderedRegions=[],ce.current&&(ce.current.view.once("view:closed",(function(){ce.current=void 0})),ce.current.close.call(ce.current))})),se.trigger("opened"))}))};backbone_origami_region.prototype.isPrototypeOf(e)?onFetch(e):(s.a.isObject(e)&&(i=e[n=s.a.keys(e)[0]]),se.region.fetch(n,i,onFetch))}},this.interruptRender=function(){this.dontRender=!0}.bind(this),this.cancelInterrupt=function(){this.dontRender=!1}.bind(this),this.router=new ue,this.store={},this.tracker=[]};s.a.extend(backbone_origami_Origami.prototype,v.a.Events);var de=backbone_origami_Origami,le=t("DzKf"),me=new de("[data-js=origami]");me.router.on("route",(function(){Object(le.b)()})),me.enableRR=function(){var e=me.router;me.router=F,me.router.on("routerWillLeave",(function(t){e.unsavedWarningModal(t)})),v.a.history={}},me.on("deprecatedUsage",le.a);var pe=me;function ScrollTracker(e,t){this.scrollHash=s.a.extend({},e),this.ROUTE_EVENT=t&&t.routeEvent||"route",this.$el=C()(window)}function _getCurrentRoute(){return(v.a.history.fragment||"").replace(/[#?].+/g,"")}function _updateRoute(){this.lastRoute=_getCurrentRoute()}ScrollTracker.prototype.start=function(e){this.router=e,_updateRoute.call(this),this.router.on(this.ROUTE_EVENT,function(e,t){this.set(this.lastRoute),_updateRoute.call(this)}.bind(this))},ScrollTracker.prototype.stop=function(){this.router.off(this.ROUTE_EVENT)},ScrollTracker.prototype.get=function(e){return void 0===e&&(e=_getCurrentRoute()),this.scrollHash[e]||0},ScrollTracker.prototype.set=function(e){void 0===e&&(e=_getCurrentRoute()),this.scrollHash[e]=this.$el.scrollTop()},ScrollTracker.prototype.restore=function(e){this.$el.scrollTop(this.get(e))},ScrollTracker.prototype.scroll=function(e){this.$el.scrollTop(e),this.set()};var be=new ScrollTracker;be.start(pe.router);var ge=be,ve=function(e){function AssignmentSubmitWrapper(){return e.apply(this,arguments)||this}i()(AssignmentSubmitWrapper,e);var t=AssignmentSubmitWrapper.prototype;return t.componentDidMount=function(){ge.scroll(0)},t.render=function(){return this.props.isSubmitted?this.props.submittedView:this.props.editView},AssignmentSubmitWrapper}(r.Component);ve.propTypes={isSubmitted:b.a.bool.isRequired,submittedView:b.a.node.isRequired,editView:b.a.node.isRequired};var fe,he=ve,Se=t("VMeS"),ye=t("JAmU"),Ie=t("pVnL"),we=t.n(Ie),Ee=t("J4zp"),Ce=t.n(Ee),Ae=t("Y+p1"),Oe=t.n(Ae),ke=t("sEfC"),Pe=t.n(ke),Te=t("+LJP"),xe=t("kwmr"),je=t("W1i5"),Ne=t("mHyk"),Re=t("HOoY"),_e=function(e){return e.GIBBERISH="GIBBERISH",e.TEXTSIMILARITY="TEXTSIMILARITY",e}({}),De=function(e){return e.TEXT="TEXT",e.FILE="FILE",e}({}),Ve=function(e){return e.INTEGRITY_CHECK_ACTIVE="INTEGRITY_CHECK_ACTIVE",e.INTEGRITY_CHECK_NONE="INTEGRITY_CHECK_NONE",e.INTEGRITY_CHECK_PASSIVE="INTEGRITY_CHECK_PASSIVE",e}({}),Ue=t("Qp/S"),integrityStatusHelper_hasPlagiarism=function(e){return!!e&&!!e.deterredChecks.find((function(e){return e===_e.TEXTSIMILARITY}))},integrityStatusHelper_hasGibberish=function(e){return!!e&&!!e.deterredChecks.find((function(e){return e===_e.GIBBERISH}))},integrityStatusHelper_isActiveDetterence=function(e){return!!e&&e.deterrence===Ve.INTEGRITY_CHECK_ACTIVE},integrityStatusHelper_getOrderedChecks=function(e){var t=[];return Object(Ue.c)(e)&&t.push({checkType:_e.GIBBERISH,withFiltering:!0}),Object(Ue.g)(e)&&t.push({checkType:_e.TEXTSIMILARITY,withFiltering:!0}),t},hasPlagiarismInSomeParts=function(e){return!(!e||e.length<=0)&&e.some(integrityStatusHelper_hasPlagiarism)},hasGibberishInSomeParts=function(e){return!(!e||e.length<=0)&&e.some(integrityStatusHelper_hasGibberish)},integrityStatusHelper_processIntegrityStatusResults=function(e){var t,n,i=e.courseId,r=e.eventData,a=e.integrityContext,o=e.latestSubmissionAndRelated,s=e.integrityStatus,c=e.scrollToTop,u=e.showSubmitDialog,d=null==s?void 0:null===(t=s.IntegrityCheck)||void 0===t?void 0:t.queryIntegrityChecks,m=o.submission,p=m.versionedAssignmentId,b=m.definition.parts,g=null!==(n=null==p?void 0:p.split("@"))&&void 0!==n?n:[],v=Ce()(g,1)[0];a.setAssignmentId(v),a.setScoreResults(d),(hasPlagiarismInSomeParts(null==d?void 0:d.promptResults)||hasGibberishInSomeParts(null==d?void 0:d.promptResults))&&c(),u();var f={user_id:l.a.get().id,course_id:i,peer_assignment_id:v};integrityStatusHelper_isActiveDetterence(d)&&hasPlagiarismInSomeParts(null==d?void 0:d.promptResults)&&Re.a.trackComponent(r,f,"simtext_active_deterrence","deterrence"),integrityStatusHelper_isActiveDetterence(d)&&hasGibberishInSomeParts(null==d?void 0:d.promptResults)&&Re.a.trackComponent(r,f,"gibberish_active_deterrence","deterrence"),null==d||d.promptResults.forEach((function(e){var t,n=null===(t=b[e.promptId])||void 0===t?void 0:t.typeName,i=q()(q()({},f),{},{peer_assignment_submission_schema_part_id:e.promptId});integrityStatusHelper_hasPlagiarism(e)&&("fileUpload"===n?Re.a.trackComponent(r,i,"file_upload_deterrence","deterrence"):"richText"===n&&Re.a.trackComponent(r,i,"simtext_deterrence","deterrence")),integrityStatusHelper_hasGibberish(e)&&Re.a.trackComponent(r,i,"gibberish_deterrence","deterrence")}))},Le=Object(r.createContext)({isChecking:!1,scoreResults:void 0,assignmentId:void 0,hasLocalChanges:!1,clearPartResult:function(){},setScoreResults:function(){},setIsChecking:function(){},setHasLocalChanges:function(){},setAssignmentId:function(){},getHasPlagiarismInPart:function(){return!1},getHasGibberishInPart:function(){return!1},getHasPlagiarismInSubmission:function(){return!1},getHasGibberishInSubmission:function(){return!1},getShouldDeterLearnerFromSubmitting:function(){return!1},clearResults:function(){}}),IntegrityStatusContextProvider_useIntegrityStatusContext=function(){return Object(r.useContext)(Le)},IntegrityStatusContextProvider_IntegrityStatusContextProvider=function(e){var t=e.children,n=Object(r.useState)(!1),i=Ce()(n,2),a=i[0],o=i[1],s=Object(r.useState)(!1),c=Ce()(s,2),u=c[0],d=c[1],l=Object(r.useState)(void 0),m=Ce()(l,2),p=m[0],b=m[1],g=Object(r.useState)(void 0),v=Ce()(g,2),f=v[0],h=v[1];return r.createElement(Le.Provider,{value:{scoreResults:f,isChecking:a,assignmentId:p,hasLocalChanges:u,setHasLocalChanges:d,setIsChecking:o,setScoreResults:h,setAssignmentId:b,getHasPlagiarismInPart:function(e){var t,n=null==f?void 0:null===(t=f.promptResults)||void 0===t?void 0:t.find((function(t){return t.promptId===e}));return integrityStatusHelper_hasPlagiarism(n)},getHasGibberishInPart:function(e){var t=null==f?void 0:f.promptResults.find((function(t){return t.promptId===e}));return integrityStatusHelper_hasGibberish(t)},getHasPlagiarismInSubmission:function(){return hasPlagiarismInSomeParts(null==f?void 0:f.promptResults)},getHasGibberishInSubmission:function(){return hasGibberishInSomeParts(null==f?void 0:f.promptResults)},getShouldDeterLearnerFromSubmitting:function(){return integrityStatusHelper_isActiveDetterence(f)},clearResults:function(){h(void 0),d(!1)},clearPartResult:function(e){var t;if(f){var n=null===(t=f.promptResults)||void 0===t?void 0:t.filter((function(t){return t.promptId!==e}));h(q()(q()({},f),{},{promptResults:n}))}}}},t)},Me=t("VkAN"),Fe=t.n(Me),Ge=t("Gcrz"),qe=t("Lm/n"),Be=t("UYTu"),He=Object(Be.a)(fe||(fe=Fe()(["\n  query GetIntegrityStatus(\n    $submission: IntegrityCheck_SubmissionInput!\n    $orderedChecks: [IntegrityCheck_StageDefinitionInput!]!\n  ) {\n    IntegrityCheck {\n      queryIntegrityChecks(submission: $submission, orderedChecks: $orderedChecks) {\n        deterrence\n        promptResults {\n          promptId\n          deterredChecks\n        }\n      }\n    }\n  }\n"]))),api_IntegrityStatusAPI=function(e){var t=e.children,n=e.queryData,i=e.onDataLoaded;return r.createElement(Ge.c,{query:He,notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache",variables:n,skip:!n,context:{clientName:"gatewayGql"},onCompleted:function(e){var t;null!=e&&null!==(t=e.IntegrityCheck)&&void 0!==t&&t.queryIntegrityChecks?i(e):i(void 0)},onError:function(){i(void 0)}},(function(){return t}))},We=t("Jexy"),$e=t("I8ZN"),ze=t("E+oP"),Qe=t.n(ze),parseRichText=function(e){return"cml"===(null==e?void 0:e.typeName)?e.definition.value:"html"===(null==e?void 0:e.typeName)?e.definition:e};function createIntegrityQuery(e){var t,n=e.submission,i=n.definition,r=n.versionedAssignmentId,a=["richText","plainText"];Object(Ue.b)()&&a.push("fileUpload");var o=i.parts,s=Object.entries(o).filter((function(e){var t=Ce()(e,2)[1];return a.includes(t.typeName)})).map((function(e){var t=Ce()(e,2),n=t[0],i=t[1],r=i.typeName,a=i.definition,o={};if("fileUpload"===r&&!Qe()(a.fileUrl)){var s=a.fileUrl;return Qe()(s)?o:{promptId:n,content:{typeTag:De.FILE,fileUrl:a.fileUrl}}}var c="richText"===r?parseRichText(a.richText):a.plainText;return Qe()(c)?o:{promptId:n,content:{typeTag:De.TEXT,textContent:c}}})).filter((function(e){return!Qe()(e.promptId)})),c=null!==(t=null==r?void 0:r.split("@"))&&void 0!==t?t:[],u=Ce()(c,2),d=u[0],m=u[1];return{assignmentId:d,submitterId:String(l.a.get().id),prompts:s,version:Number(m)}}var Ye,Je=t("+c4W"),Xe=t.n(Je),Ke=t("MJIl"),Ze=t.n(Ke),et=t("3WF5"),tt=t.n(et),nt=t("mRsi"),it=t.n(nt),rt=t("TSYQ"),at=t.n(rt),ot=t("yhVA"),st=t.n(ot),ct=function(e){function AssignmentSubmitAlertsView(){return e.apply(this,arguments)||this}return i()(AssignmentSubmitAlertsView,e),AssignmentSubmitAlertsView.prototype.render=function(){var e=this.props,t=e.isSubmitted,n=e.submissionAppState,i=n.submitState,a=n.saveState,o=n.showValidation,s=n.errorMessage,c=e.errorTree;if(!c||!o)return null;if(t)return r.createElement("div",{className:"rc-AssignmentSubmitAlertsView"},st()("Your work is submitted."));var u=Ze()(AssignmentSubmitAlertsView.getAllErrors(c),Xe()("blocksSubmit")),d=!!s,l=!s&&"ready"===i&&"ready"===a&&u,m=!s&&"saveError"===a&&!s,p=!s&&"submitError"===i&&"ready"===a&&u,b=!s&&"submitError"===i&&"ready"===a&&!u,g=at()("rc-AssignmentSubmitAlertsView","bt3-alert",{"bt3-alert-warning":l,"bt3-alert-danger":d||m||p||b});return d||l||m||p||b?r.createElement("div",{className:g},d&&r.createElement("span",null,s),p&&r.createElement("span",null,st()("Error submitting assignment: please fix the errors below before submitting.")),l&&r.createElement("span",null,st()("Your assignment was saved, but please fix the errors below before submitting.")),b&&r.createElement("span",null,st()("Your assignment was saved, but an unknown error occurred while submitting.\n              Please refresh the page and try again.")),m&&r.createElement("span",null,st()("Save error. Please try again."))):null},AssignmentSubmitAlertsView}(r.Component);Ye=ct,ct.getAllErrors=function(e){if(!e)return[];var t=it()(tt()(e.children,(function(e){return Ye.getAllErrors(e)})));return e.errors.concat(t)};var ut,dt,lt,mt,pt,bt,gt=ct,AssignmentEditView=function(e){var t=e.submissionAppState,n=e.errorTree,i=e.isSubmitted,a=e.children;return(r.createElement("div",{className:"rc-AssignmentEditView rc-AssignmentSubmit"},r.createElement(gt,{isSubmitted:i,submissionAppState:t,errorTree:n}),r.createElement("div",null,a)))},vt=t("xPfO"),ft=t("hbUA"),ht=t("IG+7"),St=t("5ijc"),yt=t("Ef0b"),It=t("Zr0k"),wt=t("xmcF"),Et=t("tVsT"),Ct=t("ZSJn"),At=function(e){function AlicePeerReviewSaveEvent(t){var n,i=t.courseBranchId,r=t.itemId;return(n=e.call(this,{type:Et.g,courseBranchId:i})||this).itemId=r,n.id="".concat(Et.g,"~").concat(i,"~").concat(r),n}return i()(AlicePeerReviewSaveEvent,e),AlicePeerReviewSaveEvent}(Ct.a),Ot=function(e){function AlicePeerReviewSubmitEvent(t){var n,i=t.courseBranchId,r=t.itemId;return(n=e.call(this,{type:Et.h,courseBranchId:i})||this).itemId=r,n.id="".concat(Et.h,"~").concat(i,"~").concat(r),n}return i()(AlicePeerReviewSubmitEvent,e),AlicePeerReviewSubmitEvent}(Ct.a),kt=Object(wt.a)((function(e){var t=e.itemId,n=e.courseBranchId,i=(e.courseId,e.hasSaved),r=e.hasSubmitted;return i?new At({courseBranchId:n,itemId:t}):r?new Ot({courseBranchId:n,itemId:t}):null}),(function(e){return{course_id:e.courseId}}))((function(){return null})),Pt=t("nNSt"),Tt=t("HXet"),xt=t.n(Tt),components_IntegrityStatusResult=function(){var e=IntegrityStatusContextProvider_useIntegrityStatusContext(),t=e.getShouldDeterLearnerFromSubmitting,n=e.getHasPlagiarismInSubmission,i=e.getHasGibberishInSubmission;return t()?r.createElement(Pt.a,{severity:"error"},xt()("Review the notifications below and update your responses before submitting to complete this assignment.")):n()||i()?r.createElement(Pt.a,{severity:"warning"},xt()("Review the notifications below and consider updating your responses before submitting.")):null},jt=t("7NQo"),Nt=t("7Pyc"),Rt=t("AeFk"),_t=t("ZJgU"),Dt=t("l1rq"),Vt=t("PSZr"),Ut=t("POo7"),Lt=t("gNwb"),Mt=Object(Lt.d)({type:"BUTTON"})(_t.a),Ft={flagStyle:function(e){return Object(Rt.c)(ut||(ut=Fe()(["\n    padding: ",";\n  "])),e.spacing(4,0,4,0))},successIcon:function(e){return Object(Rt.c)(dt||(dt=Fe()(["\n    margin-bottom: calc("," * -1);\n  "])),e.spacing(4))}},components_GibberishPromptResult=function(e){var t=e.partId,n=e.trackingData,i=IntegrityStatusContextProvider_useIntegrityStatusContext(),a=i.getHasGibberishInPart,o=i.assignmentId,s=Object(r.useState)(!1),c=Ce()(s,2),u=c[0],d=c[1];return a(t)?Object(Rt.d)("div",null,Object(Rt.d)(Pt.a,{severity:"warning"},xt()("It looks like this response doesn’t answer the original question. Make sure it’s a a full sentence answer so that reviewers can better assess your submission.")),u?Object(Rt.d)("div",{css:Ft.flagStyle},Object(Rt.d)(Vt.a,{size:"small",color:"success",css:Ft.successIcon})," ",Object(Rt.d)(Dt.a,{component:"p",variant:"bodySecondary",display:"inline"},xt()("Thanks for your input! We’ll use it to improve the experience."))):Object(Rt.d)("div",{css:Ft.flagStyle},Object(Rt.d)(Dt.a,{component:"p",variant:"bodySecondary",display:"inline"},xt()("Do you believe you received this in error?"))," ",Object(Rt.d)(Mt,{trackingName:"gibberish_deterrence_user_flagged_false_positive",trackingData:q()(q()({},n),{},{assignment_id:o,user_id:l.a.get().id,part_id:t}),"data-test":"flag-false-positive-button",variant:"ghost",size:"small",icon:lt||(lt=Object(Rt.d)(Ut.a,{size:"small"})),iconPosition:"before",onClick:function(){return d(!0)}},xt()("Let us know")))):null},Gt=Object(Lt.d)({type:"BUTTON"})(_t.a),qt={flagStyle:function(e){return Object(Rt.c)(mt||(mt=Fe()(["\n    padding: ",";\n  "])),e.spacing(4,0,4,0))},successIcon:function(e){return Object(Rt.c)(pt||(pt=Fe()(["\n    margin-bottom: calc("," * -1);\n  "])),e.spacing(4))}},components_PlagiarismPromptResult=function(e){var t=e.partId,n=e.trackingData,i=e.promptType,a=IntegrityStatusContextProvider_useIntegrityStatusContext(),o=a.getHasPlagiarismInPart,s=a.assignmentId,c=Object(r.useState)(!1),u=Ce()(c,2),d=u[0],m=u[1],p="fileUpload"===i?"file_upload_deterrence_user_flagged_false_positive":"simtext_deterrence_user_flagged_false_positive";return o(t)?Object(Rt.d)("div",null,Object(Rt.d)(Pt.a,{severity:"warning"},xt()("Is your response your original work? It looks similar to another learner’s previous submission. Update your response before submitting.")),d?Object(Rt.d)("div",{css:qt.flagStyle},Object(Rt.d)(Vt.a,{size:"small",color:"success",css:qt.successIcon})," ",Object(Rt.d)(Dt.a,{component:"p",variant:"bodySecondary",display:"inline"},xt()("Thanks for your input! We’ll use it to improve the experience."))):Object(Rt.d)("div",{css:qt.flagStyle},Object(Rt.d)(Dt.a,{component:"p",variant:"bodySecondary",display:"inline"},xt()("Do you believe you received this in error?"))," ",Object(Rt.d)(Gt,{trackingName:p,trackingData:q()(q()({},n),{},{assignment_id:s,user_id:l.a.get().id,part_id:t}),"data-test":"flag-false-positive-button",variant:"ghost",size:"small",icon:bt||(bt=Object(Rt.d)(Ut.a,{size:"small"})),iconPosition:"before",onClick:function(){return m(!0)}},xt()("Let us know")))):null},Bt=t("3H1I"),Ht=t("fiqM"),Wt=t("BkRI"),$t=t.n(Wt),components_PlainTextEditView=function(e){var t=e.submissionPart,n=e.update,i=e.disabled,a=e.id,o=e.ariaLabelledBy,s=e.ariaDescribedby;return"plainText"!==t.typeName?null:r.createElement("textarea",{id:a,defaultValue:t.definition.plainText,className:"c-peer-review-submit-text-field bt3-form-control","aria-labelledby":o,"aria-describedby":s,onChange:function(e){var i=$t()(t);i.definition.plainText=e.target.value,n(i)},disabled:i})},zt=t("ZFE0"),Qt=t("EqTq"),Yt=t("kvW3"),Jt=t("aNDK"),Xt=t("RT5p"),Kt=t("qC2T"),Zt=t.n(Kt),en=(t("Tqty"),Object(Qt.a)("MinWordCount")),components_MinWordCount=function(e){var t=e.minWordCount,n=function(e){if(!e)return 0;if("string"==typeof e){var t=new Jt.a,n=Object(Xt.a)(t.toCML(e,!0,!0));return Object(Xt.j)(n)}return Object(Xt.j)(e)}(e.content),i=t||1,a=t?Zt()("Minimum {minWordCount, plural, one{# word} other{# words}}: {currentWordCount, number}"):Zt()("Your answer needs to be a little bit longer. Write a few sentences to complete your assignment.");return r.createElement("div",{className:en()},n<i&&r.createElement(Yt.b,{message:a,minWordCount:t,currentWordCount:n}))};var tn={getImageUploadOptions:function(e,t){return{context:{courseId:e,itemId:t},pendingAssetCreation:{assetType:"image",typeName:"pending",tags:[]},assetCreationUrl:"/api/onDemandPeerAssetCreationAttempts.v1"}}},nn=t("IbxQ"),rn=t("9AH0"),an=t("S8+M"),on={notificationContainer:function(e){return Object(Rt.c)({marginBottom:e.spacing(8)})}},RichTextEditView_RichTextEditView=function(e){var t,n,i,a=e.courseId,o=e.submissionPart,s=e.update,c=e.disabled,u=e.submissionSchemaPart,d=e.ariaLabelledBy,m=e.ariaDescribedby,p=e.eventData,b=e.versionedAssignmentId,g=e.dtdIdOverride,v=e.itemId,f=o.definition.richText,h=Object(r.useState)(!1),S=Ce()(h,2),y=S[0],I=S[1],w=Object(nn.a)(f,g).cmlContent;if("richText"!==o.typeName||"string"==typeof f)return null;var E=null==u?void 0:null===(t=u.details)||void 0===t?void 0:null===(n=t.definition)||void 0===n?void 0:n.minWordCount,C=null!==(i=null==b?void 0:b.split("@"))&&void 0!==i?i:[],A=Ce()(C,1)[0],O="min-word-count-warn-".concat(null==u?void 0:u.id);return Object(Rt.d)("div",{className:"rc-RichTextEditView",onPaste:function(e){var t=e.clipboardData.getData("text").length,n=Object(l.b)().id;Re.a.trackComponent(p,{clipboardTextLength:t,userId:n,peer_assignment_id:A},"pasting_detection","paste"),I(!0)}},y&&Object(Rt.d)("div",{css:on.notificationContainer},Object(Rt.d)(zt.a,{onDismiss:function(){return I(!1)}})),Object(Rt.d)(rn.a,{initialCML:w,readOnly:c,shouldDebounceChanges:!1,isLearnerUpload:!0,uploadOptions:{asset:tn.getImageUploadOptions(a,v)},onContentChange:function(e){var t=$t()(o);t.definition.richText=e,s(t)},customTools:[an.a.BOLD,an.a.ITALIC,an.a.MATH,an.a.LINK,an.a.UNLINK,an.a.UNORDERED_LIST,an.a.ORDERED_LIST,an.a.IMAGE,an.a.SUBSCRIPT,an.a.SUPERSCRIPT],ariaLabelledBy:d,ariaDescribedBy:"".concat(O," ").concat(m)}),Object(Rt.d)("div",{id:O},Object(Rt.d)(components_MinWordCount,{minWordCount:E,content:w})))},RichTextEditView_RichTextEditViewContainer=function(e,t){return Object(Rt.d)(RichTextEditView_RichTextEditView,we()({eventData:t._eventData},e))};RichTextEditView_RichTextEditViewContainer.contextTypes={_eventData:b.a.object};var sn,cn=RichTextEditView_RichTextEditViewContainer,un=function(e){function UrlEditView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).onChangeUrl=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=$t()(i);a.definition.url=e.currentTarget.value,r(a)},t.onChangeTitle=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=$t()(i);a.definition.title=e.currentTarget.value,r(a)},t.onChangeCaption=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=$t()(i);a.definition.caption=e.currentTarget.value,r(a)},t}return i()(UrlEditView,e),UrlEditView.prototype.render=function(){var e=this.props,t=e.submissionPart,n=e.id,i=e.ariaLabelledBy,a=e.ariaDescribedby;return"url"!==t.typeName?null:r.createElement("div",{className:"rc-UrlEditView"},r.createElement("input",{id:n,className:at()("c-peer-review-submit-text-field",{"c-peer-review-submit-text-field-group-top":!!t.definition.url},"bt3-form-control"),type:"text",placeholder:st()("https://example.com"),"aria-labelledby":i,"aria-describedby":a,defaultValue:t.definition.url,onChange:this.onChangeUrl,disabled:this.props.disabled}),t.definition.url&&r.createElement("div",null,r.createElement("div",{className:"c-peer-review-submit-text-field-container"},r.createElement("input",{className:at()("c-peer-review-submit-text-field","c-peer-review-submit-text-field-group-middle","bt3-form-control"),type:"text",placeholder:st()("Title"),defaultValue:t.definition.title,onChange:this.onChangeTitle,disabled:this.props.disabled}),!t.definition.title&&r.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},st()("optional"))),r.createElement("div",{className:"c-peer-review-submit-text-field-container"},r.createElement("textarea",{className:at()("c-peer-review-submit-textarea-input-field","c-peer-review-submit-text-field-group-bottom","bt3-form-control"),placeholder:st()("Caption"),defaultValue:t.definition.caption,onChange:this.onChangeCaption,disabled:this.props.disabled}),!t.definition.caption&&r.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},st()("optional")))))},UrlEditView}(r.Component),dn=t("beC1"),ln=(t("WMAa"),function(e){function SubmissionPartEditView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).promptId="prompt-".concat(t.props.partId),t.inputId="input-".concat(t.props.partId),t.validationLabelId="submission-part-label-".concat(t.inputId),t.state={hasUnsavedChanges:!1,showCopyDeterrenceNotification:!1},t.updatePart=function(e){var n=t.props.update;t.setState({hasUnsavedChanges:!0}),n(e)},t.preventAction=function(e){if(Object(Ue.h)()){e.preventDefault(),t.toggleCopyDeterrenceNotification(!0);var n=t.props,i=n.partId,r=n.versionedAssignmentId,a=t.context._eventData;Re.a.trackComponent(a,{userId:Object(l.b)().id,assignment_id:r,partId:i},"prevent_prompt_copy",e.type)}},t.toggleCopyDeterrenceNotification=function(e){t.setState({showCopyDeterrenceNotification:e})},t}i()(SubmissionPartEditView,e);var t=SubmissionPartEditView.prototype;return t.componentDidUpdate=function(e){var t=this.props.draftHasLocalChanges,n=this.state.hasUnsavedChanges;e.draftHasLocalChanges&&!t&&n&&this.setState({hasUnsavedChanges:!1})},t.renderEditor=function(){var e=this.props,t=e.courseId,n=e.submissionPart,i=e.update,a=e.blockSubmit,o=e.disabled,s=e.isPartReceivingInlineFeedback,c=e.submissionSchemaPart,u=e.versionedAssignmentId,d=e.dtdIdOverride,l=e.itemId;switch(n.typeName){case"plainText":return r.createElement(components_PlainTextEditView,{submissionPart:n,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId,id:this.inputId,update:i,disabled:o});case"richText":return r.createElement(cn,{submissionPart:n,update:this.updatePart,disabled:o,courseId:t,submissionSchemaPart:c,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId,versionedAssignmentId:u,dtdIdOverride:d,itemId:l});case"url":return r.createElement(un,{submissionPart:n,id:this.inputId,update:this.updatePart,disabled:o,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId});case"fileUpload":return r.createElement(Bt.a,{id:this.inputId,submissionPart:n,update:this.updatePart,blockSubmit:a,disabled:o,isPartReceivingInlineFeedback:s,ariaDescribedby:this.validationLabelId});case"offPlatform":return sn||(sn=r.createElement(Ht.a,null));default:return!1}},t.render=function(){var e=this,t=this.props,n=t.submissionSchemaPart,i=t.errorTree,a=t.showValidation,o=t.renderInlineNode,s=t.partId,c=t.courseId,u=t.submissionPart,d=n.id,l=this.state.showCopyDeterrenceNotification;return r.createElement("div",{className:"rc-SubmissionPartEditView",id:d},r.createElement("div",{className:"c-peer-review-submit-prompt"},r.createElement("div",{"data-testid":"question-content",onCut:this.preventAction,onCopy:this.preventAction},r.createElement(dn.a,{content:n.prompt,assumeStringIsHtml:!0,contentId:this.promptId,display:"inline-block"})),o&&o(s,n.prompt)),Object(Ue.h)()&&l&&r.createElement("div",{className:"deterrence-notification"},r.createElement(Nt.a,{onDismiss:function(){return e.toggleCopyDeterrenceNotification(!1)}})),Object(Ue.c)(c)&&r.createElement("div",{className:"deterrence-notification"},r.createElement(components_GibberishPromptResult,{partId:this.props.partId})),Object(Ue.g)(c)&&r.createElement("div",{className:"deterrence-notification"},r.createElement(components_PlagiarismPromptResult,{partId:this.props.partId,promptType:u.typeName})),a&&i&&r.createElement(jt.a,{id:this.validationLabelId,errorTree:i}),this.renderEditor())},SubmissionPartEditView}(r.Component));ln.contextTypes={_eventData:b.a.object.isRequired},ln.contextTypes={_eventData:b.a.object.isRequired};var mn,pn=ln,bn=(t("jcHc"),function(e){function AssignmentSubmitEditView(t){var n;return(n=e.call(this,t)||this).handleTitleChange=function(e){var t=n.props.updateSubmissionTitle;e.target instanceof HTMLInputElement&&(n.setState({inputValue:e.target.value}),t(e.target.value))},n.handleInputWithErrorFocus=function(){var e=(n.props.submissionAppState||{}).showValidation,t=n.state,i=t.firstSubmissionSchemaPartWithError,r=t.titleHasError;if(e){var a=document.getElementById("input-".concat((i||{}).id));if(r)return void(n.titleInputRef&&n.titleInputRef.focus());i&&a&&a.focus()}},n.getFirstSubmissionSchemaPartWithError=function(){var e=n.props,t=e.submissionSchema,i=e.errorTree;return t.parts.find((function(e){var t=e.id;return(((i.children||{})[t]||{}).errors||[]).length>0}))},n.updateFirstValidationError=function(){var e=n.props,t=e.submissionAppState,i=e.errorTree,r=t.showValidation,a=null;if(r){var o=n.state,s=o.firstSubmissionSchemaPartWithError;o.titleHasError?a=i.errors&&i.errors.map((function(e){return e.errorMessage})).join(" "):s&&(a=(((i.children||{})[s.id]||{}).errors||[]).map((function(e){return e.errorMessage})).join(" "))}n.handleInputWithErrorFocus(),setTimeout((function(){n.setState({firstValidationError:a})}),1500)},n.state={firstValidationError:null,titleHasError:!1,firstSubmissionSchemaPartWithError:null,inputValue:t.submission.title?t.submission.title:""},n}i()(AssignmentSubmitEditView,e);var t=AssignmentSubmitEditView.prototype;return t.componentDidUpdate=function(e){var t=this.props,n=t.submissionAppState,i=t.errorTree,r=n.showValidation;if(e.submissionAppState.showValidation!==r){var a,o=this.getFirstSubmissionSchemaPartWithError();o&&(a=o),this.setState(q()({titleHasError:i.errors&&i.errors.length>0},{firstSubmissionSchemaPartWithError:a}),this.updateFirstValidationError)}},t.render=function(){var e=this,t=this.props,n=t.courseId,i=t.submission,a=t.submissionSchema,o=t.errorTree,s=t.isSubmitted,c=t.submissionAppState,u=c.saveState,d=c.submitState,l=c.showValidation,m=t.renderInlineNode,p=t.updateSubmissionPartGenerator,b=t.blockSubmitPartGenerator,g=t.itemId,v=t.versionedAssignmentId,f=t.creatorId,h=t.draftHasLocalChanges,S=t.dtdIdOverride,y=this.state,I=y.firstValidationError,w=y.inputValue,E="saving"===u||"submitting"===d||s,C="submission-part-label-title-".concat(g),A=Zt()("Project Title"),O=Object(Ue.g)(n)||Object(Ue.c)(n);return r.createElement("div",{className:"rc-AssignmentSubmitEditView"},O&&(mn||(mn=r.createElement("div",{className:"simtext-submission-result"},r.createElement(components_IntegrityStatusResult,null)))),r.createElement("div",{className:"project-title",id:"titleLabel"},A," *"),l&&r.createElement(jt.a,{id:C,errorTree:o}),r.createElement("input",{className:"c-peer-review-submit-text-field bt3-form-control",type:"text","aria-label":A,defaultValue:i.title,placeholder:w.length?"":Zt()("Give your project a descriptive title"),onChange:this.handleTitleChange,"aria-required":!0,"aria-describedby":C,disabled:E,id:"title",ref:function(t){e.titleInputRef=t}}),r.createElement("div",{className:"parts"},a.parts.map((function(e){var t=null;return t=i.parts&&i.parts[e.id]?i.parts[e.id]:i.invalidParts[e.id],r.createElement(pn,{courseId:n,key:e.id,partId:e.id,submissionSchemaPart:e,submissionPart:t,update:p(e.id),blockSubmit:b(e.id),disabled:E,errorTree:o&&o.children[e.id],showValidation:l,renderInlineNode:m,itemId:g,versionedAssignmentId:v,creatorId:f,draftHasLocalChanges:h,dtdIdOverride:S})}))),r.createElement("div",{className:"sr-only","aria-live":"polite",role:"region"},l&&I))},AssignmentSubmitEditView}(r.Component)),gn=t("MnCE"),vn=t("kgYC"),fn=t("37kS"),hn=t.n(fn),Sn=(t("06Ht"),function(e){function AssignmentUpgradeChanges(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).renderChange=function(e,n){if("AddsPart"===e.typeName)return t.renderChangeItem(n,"cif-plus-square",hn()("Added question."),r.createElement("tr",{className:"bt3-success"},r.createElement("th",null,hn()("Added")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(dn.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("RemovesPart"===e.typeName)return t.renderChangeItem(n,"cif-minus-square",hn()("Removed question."),r.createElement("tr",{className:"bt3-danger"},r.createElement("th",null,hn()("Removed")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(dn.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("ChangesPart"===e.typeName){var i=e.definition.changes,a=i.find((function(e){return"ChangesPrompt"===e.typeName})),o=i.filter((function(e){return"ChangesPrompt"!==e.typeName}));return t.renderChangeItem(n,"cif-square",hn()("Changed question."),[r.createElement("tr",{className:at()({"bt3-danger":!!a}),key:"changedQuestionPrompt"},r.createElement("th",null,hn()("Original")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(dn.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))),a&&t.renderPartChange(a,"promptChange"),o.map(t.renderPartChange),0===i.length&&hn()("Unknown change.")])}return null},t.renderPartChange=function(e,t){var n="ChangesPrompt"===e.typeName?hn()("New"):"",i=!1;return"ChangesPrompt"===e.typeName?i=r.createElement("div",{key:t},r.createElement(dn.a,{assumeStringIsHtml:!0,content:e.definition.newPrompt})):"ChangesPoints"===e.typeName?i=hn()("The new version of this question has different point values."):"ChangesOptions"===e.typeName?i=hn()("The new version of this multiple choice question has different options."):"ChangesValidationRules"===e.typeName&&(i=hn()("The new version of this question allows a different set of responses.")),r.createElement("tr",{className:"ChangesPrompt"===e.typeName?"bt3-success":"bt3-warning",key:t},r.createElement("th",null,n),r.createElement("td",{className:"change-contents"},i))},t}i()(AssignmentUpgradeChanges,e);var t=AssignmentUpgradeChanges.prototype;return t.excludeNoChangeChanges=function(e){return e.filter((function(e){return"NoChange"!==e.typeName}))},t.renderChangeGroup=function(e,t){var n=this.excludeNoChangeChanges(e);return 0!==n.length&&r.createElement("div",null,r.createElement("h2",null,t),r.createElement("ul",{className:"cif-list-ul"},n.map(this.renderChange)))},t.renderChangeItem=function(e,t,n,i){return r.createElement("li",{className:"change-item",key:e},r.createElement("i",{className:t}),r.createElement("span",{className:"type-of-change"},n),r.createElement("div",{className:"change-table-container"},r.createElement("table",{className:"bt3-table"},r.createElement("tbody",null,i))))},t.render=function(){return r.createElement("div",{className:"rc-AssignmentUpgradeChanges"},this.renderChangeGroup(this.props.upgradeToCurrentAssignment.submissionSchemaChanges,hn()("Assignment question changes")),this.renderChangeGroup(this.props.upgradeToCurrentAssignment.reviewSchemaChanges,hn()("Review question changes")))},AssignmentUpgradeChanges}(r.Component));Sn.propTypes={upgradeToCurrentAssignment:b.a.object.isRequired};var yn=Sn,In=t("+2ZD"),components_AssignmentUpgradeModal=function(e){var t=e.onClickUpgrade,n=e.modalOpen,i=e.onModalClose,a=e.upgradeToCurrentAssignment,o=!1,s=!1;return n?(null!=a&&("NotifiesUser"===a.severity?(o=hn()("Upgrade assignment"),s=r.createElement("p",null,hn()('\n            The assignment changed since you started working on it. Click\n            "Upgrade assignment" to get the new assignment. Please read the\n            new assignment carefully and update your submission to follow\n            the new instructions.\n          '))):"ClearsSubmission"===a.severity&&(o=hn()("Delete draft and upgrade assignment"),s=r.createElement("p",null,hn()("\n            The assignment changed since you started working on it. We need\n            to delete your draft to give you the new assignment.\n          ")," ",r.createElement("strong",null,hn()("\n              Please save a copy of your submission outside Coursera before\n              continuing.\n            "))," ",hn()('\n            Click "Delete draft and upgrade assignment" to get the new\n            assignment. If you’d like to not update your assignment, you can click “Cancel” and submit your answers on the old version.\n          ')))),r.createElement(In.a,{handleClose:i,modalName:hn()("New assignment version")},r.createElement("div",{className:"rc-AssignmentUpgradeNotification assignment-upgrade-explanation"},r.createElement("h3",null,hn()("New assignment version")),s,null!=a&&r.createElement(yn,{upgradeToCurrentAssignment:a}),r.createElement("div",{className:"c-modal-action-bar"},r.createElement("button",{type:"button",className:"bt3-btn c-modal-action-button",onClick:i},hn()("Cancel")),r.createElement("button",{type:"button",className:"bt3-btn bt3-btn-success c-modal-action-button",onClick:t},o))))):null},components_AssignmentUpgradeNotification=function(e){var t=e.upgradeToCurrentAssignment,n=e.onRequestUpgrade,i=e.showStaleAssignmentVersionError,a=Object(vn.a)(),o=Object(r.useState)(!1),s=Ce()(o,2),c=s[0],u=s[1],d=at()({"bt3-alert":!0,"bt3-alert-info":!i,"bt3-alert-danger":i});return t&&"AutomaticallyUpgrades"!==t.severity?r.createElement("div",{className:"rc-AssignmentUpgradeNotification"},r.createElement("div",{style:{background:a.palette.blue[100],border:"none",color:a.palette.black[500]},className:d},hn()("A new version of this assignment exists.")," ",r.createElement("button",{type:"button",style:{color:a.palette.blue[600]},className:"button-link",onClick:function(){return u(!0)}},hn()("Click here to see the changes and get the new version."))),c&&r.createElement(components_AssignmentUpgradeModal,{upgradeToCurrentAssignment:t,modalOpen:c,onModalClose:function(){return u(!1)},onClickUpgrade:function(){n(),u(!1)}})):null},wn=function(e){function PeerItemUpgradeNotification(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).onRequestUpgrade=function(){var e=t.props,n=e.courseId,i=e.courseSlug,r=e.computedItem.id,a=e.submission,o=e.assignmentVersion,s=e.forceUpgradeToAssignmentVersion;t.context.executeAction(It.f,{itemId:r,submission:a,assignmentVersion:o,forceUpgradeToAssignmentVersion:s,courseId:n,courseSlug:i,userId:Object(l.b)().id})},t}return i()(PeerItemUpgradeNotification,e),PeerItemUpgradeNotification.prototype.render=function(){return null==this.props.upgradeToCurrentAssignment?null:r.createElement("div",{className:"rc-PeerItemUpgradeNotification"},r.createElement(components_AssignmentUpgradeNotification,{onRequestUpgrade:this.onRequestUpgrade,upgradeToCurrentAssignment:this.props.upgradeToCurrentAssignment,showStaleAssignmentVersionError:this.props.showStaleAssignmentVersionError}))},PeerItemUpgradeNotification}(r.Component);wn.contextTypes={executeAction:b.a.func.isRequired};var En,Cn,An,On,kn,Pn,Tn,xn,jn,Nn,Rn,_n=Object(gn.b)(Object(c.a)(["PeerSubmissionDraftStore","CourseStore"],(function(e){var t=e.PeerSubmissionDraftStore,n=e.CourseStore,i=t.getState().latestSubmissionAndRelated,r=null,a=null,o=null;return null!=i&&(r=i.upgradeToCurrentAssignment,a=i.submissionSchema.assignmentVersion,o=i.upgradeToCurrentAssignment&&i.upgradeToCurrentAssignment.upgradeToVersion),{submission:i&&i.submission,upgradeToCurrentAssignment:r,assignmentVersion:a,forceUpgradeToAssignmentVersion:o,courseId:n.getCourseId(),courseSlug:n.getCourseSlug()}})))(wn),Dn=t("SJ7i"),Vn=t("aFpJ"),Un={SUBMITTING:"submitting",SUBMIT_ERROR:"submitError",READY:"ready",SAVING:"saving",SAVE_ERROR:"saveError"},Ln=Un.SUBMITTING,Mn=Un.SAVING,Fn=t("O+1n"),Gn=t("4uky"),qn=t("JJfJ"),Bn=t("6/Gu"),Hn=t("8xbv"),Wn=t("PB6g"),$n=t("ZYEf"),zn={root:function(){return Object(Rt.c)(En||(En=Fe()(["\n    text-align: right;\n    margin-top: var(--cds-spacing-300);\n  "])))},saveStateDisplay:function(){return Object(Rt.c)(Cn||(Cn=Fe()(["\n    margin-right: var(--cds-spacing-300);\n    display: inline-block;\n  "])))},saveDraftButton:function(){return Object(Rt.c)(An||(An=Fe()(["\n    margin-right: var(--cds-spacing-200);\n  "])))}},Qn=Object(gn.b)(Object(c.a)(["CourseStore"],(function(e){return{courseId:e.CourseStore.getCourseId()}})))((function(e){var t,n=e.computedItem,i=e.courseId,a=e.lastSaveTime,o=e.isSaving,s=e.isSubmitting,c=e.onSave,u=e.onSubmit,d=e.submitMessage,l=void 0===d?st()("Submit"):d,m=e.isSubmitDisabled,p=void 0!==m&&m,b=Object(ft.o)(n),g=o?st()("Saving draft..."):st()("Submitting assignment..."),v=null!==(t=n.isReadOnlyAfterSessionEnd)&&void 0!==t&&t,f=o||s||v,h=f||p;return Object(Rt.d)(Bn.a,{css:zn.root},Object(Rt.d)(Dt.a,{component:"p",variant:"bodySecondary",color:"supportText",css:zn.saveStateDisplay,id:"last-saved-text"},a&&a>0?Object(Rt.d)(Yt.b,{message:st()("Last saved on {lastSaveDate} at {lastSaveTime}"),lastSaveDate:Object(qn.w)(a,qn.c),lastSaveTime:Object(qn.w)(a,qn.s)}):st()("This project has not been saved.")),Object(Rt.d)(Wn.b,{tagName:"span","aria-live":"polite"},o||s?g:null),b&&Object(Rt.d)($n.a,{courseId:i}),!b&&Object(Rt.d)(r.Fragment,null,Object(Rt.d)(Lt.c,{variant:"secondary","data-testid":"save-draft",disabled:f,onClick:c,trackingName:"save","aria-label":st()("Save draft"),"aria-describedby":"last-saved-text",css:zn.saveDraftButton,size:"small"},Object(Rt.d)("span",{"aria-hidden":!0},o?On||(On=Object(Rt.d)(Hn.a,{size:"small"})):st()("Save draft"))),Object(Rt.d)(Lt.c,{variant:"primary","data-testid":"preview",onClick:u,disabled:h,trackingName:"submit","aria-label":l,size:"small"},Object(Rt.d)("span",{"aria-hidden":!0},s?kn||(kn=Object(Rt.d)(Hn.a,{size:"small"})):l))))})),Yn=t("g0DA"),Jn=t("wd/R"),Xn=t.n(Jn),Kn=t("7NTc"),Zn=t("FdHa"),ei=t("kWps"),ti=t("gO9+"),ni=Kn.a.HeadingGroup,ii=Kn.a.Content,ri=Kn.a.Actions,ai={title:function(){return Object(Rt.c)(Pn||(Pn=Fe()(["\n    margin: var(--cds-spacing-150) 0 var(--cds-spacing-400) 0;\n  "])))},notification:function(){return Object(Rt.c)(Tn||(Tn=Fe()(["\n    margin-bottom: var(--cds-spacing-300);\n  "])))},buttons:function(){return Object(Rt.c)(xn||(xn=Fe()(["\n    "," {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  "])),Zn.a.down("xs"))},button:function(){return Object(Rt.c)(jn||(jn=Fe()(["\n    margin-right: var(--cds-spacing-300);\n    margin-bottom: var(--cds-spacing-200);\n  "])))},message:function(){return Object(Rt.c)(Nn||(Nn=Fe()(["\n    padding-top: var(--cds-spacing-150);\n  "])))}},modals_SubmitModalV2=function(e){var t=e.handleSubmit,n=e.handleCancel,i=e.isSubmitting,a=e.isInvalid,o=e.remainingAttempts,s=e.submissionDeadline,c=e.loadingIntegrityStatus,u=e.isActivelyDeterred,d=e.isPassivelyDeterred,l=e.isAiGradingTreatmentFlow,m=e.isAssignmentFullyAiGraded,p=st()("Submit"),b=o||0,g=i||c,v=function(e){return e?st()("Missing or invalid answers"):st()("Ready to submit your assignment?")}(a||u||d),f=Object(Yn.b)().peerReviewEventingV3Data,h=q()(q()({button:{name:ti.a.SUBMIT_ASSIGNMENT}},f),{},{peerReview:q()(q()({},f.peerReview),{},{isSubmittedForAiGraded:l})});return Object(Rt.d)(Kn.a,{open:!0,onClose:n,"aria-describedby":v},Object(Rt.d)(ni,null,v),Object(Rt.d)(ii,null,Object(Rt.d)("div",{"data-testid":"SubmitDialog__content"},(a||u)&&Object(Rt.d)(Pt.a,{css:ai.notification,severity:"error","data-testid":"SubmitDialog__notification"},st()("Your assignment couldn’t be submitted for grading.")),d&&!u&&Object(Rt.d)(r.Fragment,null,Object(Rt.d)(Pt.a,{css:ai.notification,severity:"warning","data-testid":"SubmitDialog__notification"},st()("We found potential content issues.")),Object(Rt.d)(Dt.a,{component:"p",variant:"bodyPrimary"},st()("Do you still want to submit this assessment?"))),u&&Object(Rt.d)(Dt.a,{component:"p",variant:"bodyPrimary"},st()("We found content issues in your assignment. Check the notifications and make any required changes before you submit your assignment again.")),!d&&!u&&Object(Rt.d)(Dt.a,{component:"p",variant:"bodyPrimary"},st()("Once you've submitted your assignment, you won't be able to make any changes. Take a moment to review your work before proceeding.")),void 0!==o&&Object(Rt.d)(Dt.a,{component:"p",variant:"bodyPrimary",css:ai.message},Object(Rt.d)(Yt.b,{message:b>0?st()("Your submission counts as an attempt. You'll have {attemptsLeftAfterSubmission, plural, =1 {# more attempt} other {# more attempts available}}{deadline}."):st()("This is your last attempt. You'll have no more attempts after you submit."),attemptsLeftAfterSubmission:Math.max(b,0),deadline:s?st()(" until the deadline on #{formattedDeadline}",{formattedDeadline:ei.a.getFormattedDeadline(Xn()(s))}):""})),!m&&l&&!a&&!u&&Object(Rt.d)(Dt.a,{component:"p",variant:"bodyPrimary",css:ai.message},Object(Rt.d)(Yt.b,{message:st()("After completing your peer reviews, you'll receive your AI-generated grade based on the assignment rubrics.")})))),Object(Rt.d)(ri,null,Object(Rt.d)("div",{"data-testid":"SubmitDialog__controls"},Object(Rt.d)("div",{css:ai.buttons,"data-testid":"AttemptViewSubmitControls__buttons"},!u&&Object(Rt.d)(Ne.a,{onClick:t,loading:g,variant:"primary","data-testid":"dialog-submit-button",css:ai.button,trackingData:h,noViewTracking:!0},p),!g&&!u&&Object(Rt.d)(_t.a,{onClick:n,"data-testid":"dialog-cancel-button",variant:"secondary",css:ai.button},st()("Cancel")),u&&Object(Rt.d)(_t.a,{onClick:n,"data-testid":"dialog-cancel-button",variant:"primary",css:ai.button},st()("Okay"))))))},oi={piiMessageBeforeSubmit:function(){return Object(Rt.c)(Rn||(Rn=Fe()(["\n    padding-top: var(--cds-spacing-150);\n    text-align: end;\n  "])))}},si=function(e){function PeerItemVerificationSubmission(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isSubmitting:!1,isAgreementComplete:!1,fullName:"",hasError:!1},t.handleSubmissionClicked=function(){if(t.props.isVerifiable){t.setState({hasError:!1});var e=null;Object(Fn.a)().then((function(n){return e=n,Object(Fn.b)(e,t.state.fullName)})).then((function(){null!=e&&t.props.handleSubmit(e)})).catch((function(){return t.setState({isSubmitting:!1,hasError:!0})})).done()}else t.props.handleSubmit()},t.scrollToTop=function(){var e,t=document.querySelector('[data-id="item-scroll-container"]');t&&(null===(e=t.scroll)||void 0===e||e.call(t,{top:0,behavior:"smooth"}))},t.onAgreementComplete=function(e){t.setState({isAgreementComplete:!0,fullName:e})},t.onAgreementIncomplete=function(){t.setState({isAgreementComplete:!1})},t}i()(PeerItemVerificationSubmission,e);var t=PeerItemVerificationSubmission.prototype;return t.componentWillReceiveProps=function(e){var t=this.props.submissionAppState.submitState===Ln,n=e.submissionAppState.submitState===Ln;t&&!n?this.setState({isSubmitting:!1}):!t&&n&&this.setState({isSubmitting:!0})},t.render=function(){var e,t=this.props,n=t.submissionAppState,i=t.lastSaveTime,r=t.handleSave,a=t.isVerifiable,o=t.computedItem,s=t.blockSubmit,c=t.capabilitiesWithReasons,u=t.latestAttemptSummary,d=t.submissionDeadline,l=t.getShouldDeterLearnerFromSubmitting,m=t.hasGibberishOrPlagiarismInSubmission,p=t.theme,b=t.loadingIntegrityStatus,g=t.showV2SubmitModal,v=t.onV2SubmitModalClose,f=t.isAiGradingTreatmentFlow,h=t.isAssignmentFullyAiGraded,S=this.state,y=S.isAgreementComplete,I=S.isSubmitting,w=S.hasError,E=null==c?void 0:null===(e=c.anonymousPeerReview)||void 0===e?void 0:e.isAllowed,C=Object(Ue.c)(o.courseId)||Object(Ue.g)(o.courseId),A=C&&l(),O=C&&m;return Object(Rt.d)("div",{className:"rc-PeerItemVerificationSubmission",style:{marginTop:p.spacing(32),marginBottom:p.spacing(32)}},a&&Object(Rt.d)(Vn.a,{onAgreementComplete:this.onAgreementComplete,onAgreementIncomplete:this.onAgreementIncomplete,isShownInsideModal:!1}),E&&Object(Rt.d)(Gn.a,null,st()("Your submission will be anonymous to fellow learners and your name will be visible to course instructors.")),Object(Rt.d)(Qn,{lastSaveTime:i,isSaving:n.saveState===Mn,isSubmitting:I||!!b,onSave:function(){return r()},onSubmit:this.handleSubmissionClicked,submitMessage:st()("Submit"),isSubmitDisabled:a&&!y||s,computedItem:o}),f&&Object(Rt.d)("div",{css:oi.piiMessageBeforeSubmit,"data-testid":"pii-message"},st()("Never include personal information in your assignment.")),w&&Object(Rt.d)("div",{className:"align-right caption-text",style:{marginTop:12}},st()("An error has occurred while submitting. Please try again.")),g&&Object(Rt.d)(modals_SubmitModalV2,{"data-testid":"submit-modal",remainingAttempts:null==u?void 0:u.remainingAttempts,isActivelyDeterred:A,isPassivelyDeterred:O,submissionDeadline:d,handleSubmit:this.handleSubmissionClicked,handleCancel:v,loadingIntegrityStatus:b,isInvalid:w,isSubmitting:I,isAiGradingTreatmentFlow:f,isAssignmentFullyAiGraded:h}))},PeerItemVerificationSubmission}(r.Component),ci=Object(gn.b)(Dn.a)((function(e){var t=IntegrityStatusContextProvider_useIntegrityStatusContext(),n=t.getShouldDeterLearnerFromSubmitting,i=t.getHasPlagiarismInSubmission,r=t.getHasGibberishInSubmission,a=t.isChecking,o=i()||r(),s=Object(Yn.b)(),c=s.isAssignmentFullyAiGraded,u=s.isAiGradingFlowPreview;return Object(Rt.d)(si,we()({},e,{getShouldDeterLearnerFromSubmitting:n,hasGibberishOrPlagiarismInSubmission:o,loadingIntegrityStatus:a,isAiGradingTreatmentFlow:u(),isAssignmentFullyAiGraded:c}))})),ui=t("1xaR"),di=t("BbiL"),li=(t("4Vr2"),function(e){var t=e.criteria,n=e.partId,i=e.privilegedRoleViewReviewSchema,a=e.prompt,o=Object(r.useState)(!1),s=Ce()(o,2),c=s[0],u=s[1],d="grading-criteria-prompt-".concat(n);return 0===t.length?null:r.createElement("div",{className:"rc-GradingCriteriaPreviewModal"},r.createElement("div",{className:"grading-criteria-preview-controls"},r.createElement("button",we()({type:"button",onClick:function(e){e.preventDefault(),u(!0)},className:"button-link"},a&&{"aria-labelledby":d}),hn()("Preview grading criteria")),a&&r.createElement(di.a,{tagName:"span",id:d},r.createElement(Yt.b,{message:hn()("Preview grading criteria for the prompt: {prompt}."),prompt:r.createElement(dn.a,{content:a,assumeStringIsHtml:!0,display:"inline-block"})}))),c&&r.createElement(In.a,{handleClose:function(){u(!1)},modalName:hn()("Preview grading criteria")},r.createElement("h1",null,hn()("Preview grading criteria")),i&&r.createElement("div",{className:"criteria-warning color-warn-dark"},hn()("You can preview the grading criteria because you have a privileged role in this course. Normal\n                  learners cannot see the grading criteria until they submit a submission.")),t.map((function(e){return r.createElement("div",{className:"criterion card-no-action compact",key:e.get("id")},r.createElement(dn.a,{content:e.get("prompt"),assumeStringIsHtml:!1}))}))))}),mi=s.a.compose(Object(c.a)(["PeerPermissionsAndProgressesStore"],(function(e){var t=e.PeerPermissionsAndProgressesStore;return{hasLoaded:"loaded"===t.getState().loadState,capabilitiesWithReasons:t.getState().capabilitiesWithReasons}})),Object(m.a)((function(e){return e.hasLoaded})),Object(je.a)((function(e){var t,n=!1,i=null===(t=e.capabilitiesWithReasons)||void 0===t?void 0:t.viewReviewSchema;i&&(n=i.isAllowed&&"privilegedRole"===i.reason);var r=Object(ui.a)(e.reviewSchema);return{partId:e.partId,prompt:e.prompt,criteria:r.getPartsForSubmissionSchemaPart(e.partId),privilegedRoleViewReviewSchema:n}})))(li),pi=t("rYOX"),bi=t("grTl"),gi=t("JrTX"),vi=t("jSbv"),fi="peerSubmission/1",hi=3e3,Si=function(e){function PeerItemEditView(t,n){var i;return(i=e.call(this,t,n)||this).setShowIntegrityCheckDialog=function(e){i.setState((function(t){return{showIntegrityCheckDialog:"function"==typeof e?e(t.showIntegrityCheckDialog):e}}))},i.handleRichTextDtdConversion=function(e){var t=e.definition.parts;return Object.values(t).forEach((function(e){if("richText"===e.typeName){var t=e.definition.richText;"string"!=typeof t&&"cml"===(null==t?void 0:t.typeName)&&(t.definition.dtdId=fi)}})),e},i.handleSubmit=function(e){var t=i.props,n=t.computedItem,r=t.latestSubmissionAndRelated,a=t.courseId,o=t.courseSlug,s=t.isAiGradingTreatmentFlow;i.context.executeAction(It.e,{itemId:n.id,submission:i.handleRichTextDtdConversion(r.submission),assignmentVersion:r.submissionSchema.assignmentVersion,verifiableId:e,courseId:a,courseSlug:o,userId:Object(l.b)().id,gradingType:s?"AI":"HUMAN"})},i.handleVivaExamStart=function(){i.closeSubmitDialog(),i.setState({showIntegrityCheckDialog:!0})},i.handleVivaExamComplete=function(){i.context.executeAction(yt.d,{userId:Object(l.b)().id,courseId:i.props.courseId,itemId:i.props.computedItem.id,courseSlug:i.props.courseSlug})},i.handleSubmitButtonClicked=function(e){var t=i.props,n=t.courseId,r=t.integrityContext;i.state.showSubmitDialog?i.handleSubmit(e):Object(Ue.c)(n)||Object(Ue.g)(n)?(r.setIsChecking(!0),i.setState({verifiableId:e}),i.handleSave()):i.showSubmitDialog()},i.showSubmitDialog=function(){i.setState({showSubmitDialog:!0})},i.closeSubmitDialog=function(){i.setState({showSubmitDialog:!1})},i.getIntegrityStatus=function(){var e=i.props,t=e.courseId,n=e.latestSubmissionAndRelated,r=e.integrityContext,a=createIntegrityQuery(n);if(a.prompts.length>0){var o,s=integrityStatusHelper_getOrderedChecks(t);Oe()(a,null===(o=i.state.integrityStatusVariables)||void 0===o?void 0:o.submission)?(r.setIsChecking(!1),i.showSubmitDialog()):(i.setState((function(){return{integrityStatusVariables:{orderedChecks:s,submission:a}}})),r.setIsChecking(!0))}else r.setIsChecking(!1),i.showSubmitDialog()},i.handleIntegrityStatusFetched=function(e){var t=i.props,n=t.integrityContext,r=t.courseId,a=t.eventData,o=t.latestSubmissionAndRelated;n.setIsChecking(!1),integrityStatusHelper_processIntegrityStatusResults({courseId:r,eventData:a,integrityContext:n,latestSubmissionAndRelated:o,integrityStatus:e,scrollToTop:i.scrollToTop,showSubmitDialog:i.showSubmitDialog})},i.scrollToTop=function(){var e,t=document.querySelector('[data-id="item-scroll-container"]');t&&(null===(e=t.scroll)||void 0===e||e.call(t,{top:0,behavior:"smooth"}))},i.handleSave=function(){var e=i.props,t=e.computedItem,n=e.latestSubmissionAndRelated,r=e.courseId,a=e.isNewDraft,o=e.partnerId;i.autoSaveDraft.cancel(),i.setState({hasSaved:!0}),i.context.executeAction(It.c,{courseId:r,isNewDraft:a,userId:Object(l.b)().id,itemId:t.id,submission:i.handleRichTextDtdConversion(n.submission),assignmentVersion:n.submissionSchema.assignmentVersion,partnerId:o})},i.handleAutoSave=function(){var e=i.props,t=e.computedItem,n=e.latestSubmissionAndRelated,r=e.courseId,a=e.isNewDraft,o=e.partnerId;i.setState({hasSaved:!0}),i.context.executeAction(It.a,{courseId:r,isNewDraft:a,userId:Object(l.b)().id,itemId:t.id,submission:i.handleRichTextDtdConversion(n.submission),assignmentVersion:n.submissionSchema.assignmentVersion,partnerId:o})},i.autoSaveDraft=Pe()(i.handleAutoSave,hi),i.updateSubmissionPartGenerator=function(e){return function(t){var n=i.props,r=n.latestSubmissionAndRelated,a=n.integrityContext,o=n.courseId,s=n.triggerFileIntegrityCheck,c=C.a.extend(!0,{},r.submission);if(c.definition.parts[e]=t,i.context.executeAction(It.b,{submission:c}),i.autoSaveDraft(),"fileUpload"===t.typeName){a.clearPartResult(e);var u=createIntegrityQuery(q()(q()({},r),{},{submission:c})),d=q()(q()({},u),{},{prompts:u.prompts.filter((function(t){return t.promptId===e}))});if(d.prompts.length>0)s({orderedChecks:integrityStatusHelper_getOrderedChecks(o),submission:d})}}},i.blockSubmitPartGenerator=function(e){return function(t){var n=i.state.blockSubmitParts,r=Object.assign({},n);r[e]=t,i.setState({blockSubmitParts:r})}},i.updateSubmissionTitle=function(e){var t=i.props.latestSubmissionAndRelated,n=C.a.extend(!0,{},t.submission);n.definition.title=e,i.context.executeAction(It.b,{submission:n})},i.renderPreviewGradingCriteria=function(e,t){var n=i.props.latestSubmissionAndRelated;return(r.createElement(mi,{reviewSchema:n.reviewSchema,partId:e,prompt:t}))},i.state={hasSaved:!1,blockSubmitParts:{},showIntegrityCheckDialog:!1},i}i()(PeerItemEditView,e);var t=PeerItemEditView.prototype;return t.componentDidUpdate=function(e){var t=this.props,n=t.submissionAppState,i=t.errorTree,r=i.children,a=i.errors,o=t.courseId,s=t.integrityContext,c=t.computedItem,u="submitting"===e.submissionAppState.submitState,d="ready"===n.submitState,l=u&&d,m=Object(Ue.i)(c.courseId,c.id),p=(null==a?void 0:a.length)>=1||Object.values(r).some((function(e){var t;return(null===(t=e.errors)||void 0===t?void 0:t.length)>=1})),b="saving"===e.submissionAppState.saveState,g="ready"===n.saveState;(Object(Ue.c)(o)||Object(Ue.g)(o))&&(b&&g&&!p?this.getIntegrityStatus():b&&g&&(s.setIsChecking(!1),p&&this.scrollToTop())),l&&m&&!p&&this.handleVivaExamStart()},t.render=function(){var e,t=this.props,n=t.naptimeSubmission,i=t.naptimeSubmissionSchema,a=t.errorTree,o=t.computedItem,c=t.submissionAppState,u=t.isVerifiable,d=t.lastSaveTime,l=t.showStaleAssignmentVersionError,m=t.courseId,p=t.courseBranchId,b=t.latestSubmissionAndRelated,g=t.draftHasLocalChanges,v=t.capabilitiesWithReasons,f=t.latestAttemptSummary,h=t.submissionDeadline,S=t.visibilityTrackingRef,y=o.id,I=this.state,w=I.hasSaved,E=I.integrityStatusVariables,C=I.showSubmitDialog,A=I.showIntegrityCheckDialog,O=s.a.contains(s.a.values(this.state.blockSubmitParts),!0),k=b.submission,P=k.versionedAssignmentId,T=k.creatorId,x=null!==(e=null==P?void 0:P.split("@"))&&void 0!==e?e:[],j=Ce()(x,1)[0];return r.createElement("div",{ref:S,className:"rc-PeerItemEditView"},r.createElement(kt,{itemId:y,courseBranchId:p,courseId:m,hasSaved:w}),r.createElement(api_IntegrityStatusAPI,{queryData:E,onDataLoaded:this.handleIntegrityStatusFetched},r.createElement(AssignmentEditView,{submissionAppState:c,errorTree:a,isSubmitted:!1},r.createElement(_n,{showStaleAssignmentVersionError:l,computedItem:o}),r.createElement(bn,{courseId:m,submission:n,submissionSchema:i,errorTree:a,isSubmitted:!1,submissionAppState:c,updateSubmissionTitle:this.updateSubmissionTitle,updateSubmissionPartGenerator:this.updateSubmissionPartGenerator,blockSubmitPartGenerator:this.blockSubmitPartGenerator,renderInlineNode:this.renderPreviewGradingCriteria,itemId:y,versionedAssignmentId:P,creatorId:T,draftHasLocalChanges:g,dtdIdOverride:fi}),r.createElement(ci,{"data-testid":"PeerItemVerificationSubmission",submissionAppState:c,lastSaveTime:d,handleSave:this.handleSave,handleSubmit:this.handleSubmitButtonClicked,blockSubmit:O,isVerifiable:u,computedItem:o,capabilitiesWithReasons:v,draftHasLocalChanges:g,assignmentId:j,latestAttemptSummary:f,submissionDeadline:h,showV2SubmitModal:C,onV2SubmitModalClose:this.closeSubmitDialog}),r.createElement(We.a,{courseId:m,assignmentId:null!=P?P:"",showIntegrityCheckDialog:A,setShowIntegrityCheckDialog:this.setShowIntegrityCheckDialog,redirectToCoverPage:this.handleVivaExamComplete,assignmentType:$e.a.PGA}))))},PeerItemEditView}(r.Component);Si.contextTypes={executeAction:b.a.func.isRequired};var PeerItemEditView_PeerItemEditViewComponent=function(e,t){var n,i,a=Object(Yn.b)(),o=a.isAiGradingFlowPreview,s=a.peerReviewEventingV3Data,c=(n=Object(qe.a)(He,{context:{clientName:"gatewayGql"}}),i=Ce()(n,1)[0],{triggerFileIntegrityCheck:function(e){i({variables:e}).then((function(){})).catch((function(){}))}}).triggerFileIntegrityCheck,u=Object(Ne.e)("view_page_section",q()({pageSection:{sectionName:"peer_my_project_form"}},s));return r.createElement(IntegrityStatusContextProvider_IntegrityStatusContextProvider,null,r.createElement(Le.Consumer,null,(function(n){return r.createElement(Si,we()({},e,{visibilityTrackingRef:u,eventData:t._eventData,integrityContext:n,isAiGradingTreatmentFlow:o(),triggerFileIntegrityCheck:c}))})))};PeerItemEditView_PeerItemEditViewComponent.contextTypes={_eventData:b.a.object};var yi,Ii,wi=s.a.compose(Object(Te.a)((function(e){return{showStaleAssignmentVersionError:!!e.location.query.showStaleAssignmentVersionError}})),Object(xe.a)([vi.a,gi.a,St.a,ht.a,vt.a,bi.a,pi.a],(function(e,t,n,i,r,a,o,s){var c,u,d,l=s.computedItem,m=o.getState().displayablePhaseSchedule,p=a.getState();return{latestSubmissionAndRelated:e.getState().latestSubmissionAndRelated,naptimeSubmission:e.getState().naptimeSubmission,naptimeSubmissionSchema:e.getState().naptimeSubmissionSchema,draftHasLocalChanges:e.getState().hasLocalChanges,submissionAppState:t.getState(),isVerifiable:n.isProductVerificationEnabled()&&l&&Object(ft.j)(l),courseId:i.getCourseId(),courseSlug:i.getCourseSlug(),courseBranchId:r.getBranchId()||i.getCourseId(),capabilitiesWithReasons:p.capabilitiesWithReasons,submissionDeadline:null==m?void 0:null===(c=m.phaseEnds)||void 0===c?void 0:c.submit,latestAttemptSummary:null===(u=p.submissionProgress)||void 0===u?void 0:u.latestAttemptSummary,isNewDraft:!(null!==(d=p.submissionProgress)&&void 0!==d&&d.latestDraftSummary),partnerId:i.getPartnerId()}})),Object(m.a)((function(e){return e.latestSubmissionAndRelated}),r.createElement(Se.a,{className:"rc-PeerItemEditView"})),Object(je.a)((function(e){return q()(q()({},e),{},{errorTree:e.latestSubmissionAndRelated.errorTree,lastSaveTime:e.latestSubmissionAndRelated.submission&&e.latestSubmissionAndRelated.submission.createdAt})})))(PeerItemEditView_PeerItemEditViewComponent),components_PeerAnonymousReviewNotification=function(e){var t=e.reviews,n=null==t?void 0:t.reviews.reduce((function(e,t){return t.isAnonymous?e+1:e}),0);return 0===n?null:n===(null==t?void 0:t.reviews.length)?r.createElement(Gn.a,null,st()("Your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors.")):r.createElement(Gn.a,null,st()("Some of your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors."))},Ei=t("qPyB"),Ci=t("FCT0"),Ai=t("7Diq"),Oi=t("YFce"),ki=t("C2np"),Pi=t("o5Sl"),Ti=t("nsyj"),xi=t("CLNb"),ji=t("T8wf"),Ni=t("ySha"),ai_grading_AiSubmissionControls=function(e){var t=e.moreAttemptsAvailable,n=e.hasTextRubric,i=e.isAssignmentFullyAiGraded,a=e.children;if(!a)return null;var o=i?st()("If you're unsatisfied with your scores or feedback, you can start a new attempt for your assignment."):st()("If you're unsatisfied with your scores or feedback, you can start a new attempt for your assignment or switch to have your assignment reviewed by your peers."),s=i?st()("If you're unsatisfied with your scores, you can start a new attempt for your assignment."):st()("If you're unsatisfied with your scores, you can start a new attempt for your assignment or switch to have your assignment graded by your peers."),c=st()("If you're unsatisfied with your scores or feedback, you can switch to have your assignment reviewed by your peers."),u=st()("If you're unsatisfied with your scores, you can switch to have your assignment graded by your peers."),d=n?o:s,l=n?c:u;return r.createElement(Pt.a,{actions:a,severity:"information"},t?d:l)},Ri=t("fsL8"),_i=t.n(Ri),Di=t("yXPU"),Vi=t.n(Di),Ui=t("rzCt"),Li=t("fguj"),Mi=t("dhC9"),Fi=t("lSNA"),Gi=t.n(Fi),qi=t("+GDw"),Bi=t("kUlC"),Hi=[{key:"1",label:st()("Your current grades and feedback will be replaced with grades and feedback from your peers.")},{key:"2",label:st()("You can only receive new AI-generated grades if you start a new attempt on your assignment.")},{key:"3",label:st()("Your grades and feedback from peers may not be immediately available.")}],Wi=[{key:"EXPECTED_HIGHER_SCORE",label:st()("I believe I can get a higher score from my peers")},{key:"INCORRECT_GRADING",label:st()("I think my assignment grade was inaccurate")},{key:"USELESS_FEEDBACK",label:st()("I didn't find the feedback helpful")},{key:"PREFER_HUMAN_GRADING",label:st()("I'd like to see how my peers assess my work")},{key:"OTHER",label:st()("Other")}],ai_grading_RegradeTermsCheck=function(e){var t=e.onChange,n=Object(r.useState)(Hi.reduce((function(e,t){return q()(q()({},e),{},Gi()({},"".concat(t.key),!1))}),{})),i=Ce()(n,2),a=i[0],o=i[1];return r.createElement(qi.a,{label:st()("By switching to peer grading, you acknowledge that:"),onChange:function(e,n){if(void 0!==a[e.target.value]){var i=q()(q()({},a),{},Gi()({},e.target.value,n));o(i);var r=-1===Object.values(i).findIndex((function(e){return!1===e}));t(r)}}},Hi.map((function(e){return r.createElement(Bi.a,{label:e.label,value:e.key,key:e.key,checked:!0})})))},$i=t("pZLH"),zi=t("agHs"),Qi=t("8mmq"),Yi=t.n(Qi),ai_grading_useRequestGradingByPeer=function(){var e=Object($i.a)(Yi.a,{context:{clientName:"gatewayGql"}}),t=Ce()(e,2),n=t[0],i=t[1];return{requestGradingByPeer:function(){var e=Vi()(_i()().mark((function _callee(e){var t;return _i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,n({variables:{input:e}});case 3:return t=i.sent,i.abrupt("return",t);case 7:return i.prev=7,i.t0=i.catch(0),zi.captureException(i.t0),i.abrupt("return",null);case 11:case"end":return i.stop()}}),_callee,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),requestGradingByPeerState:i}},Ji={cancelButton:function(){return Object(Rt.c)(yi||(yi=Fe()(["\n    margin: 0 var(--cds-spacing-300);\n  "])))},error:function(){return Object(Rt.c)(Ii||(Ii=Fe()(["\n    margin-top: var(--cds-spacing-300);\n  "])))}},ai_grading_RegradeDialog=function(e){var t=e.courseId,n=e.submissionId,i=e.itemId,a=e.onClose,o=e.onSuccess,s=Kn.a.HeadingGroup,c=Kn.a.Content,u=Kn.a.Actions,d=Object(r.useState)(!1),l=Ce()(d,2),m=l[0],p=l[1],b=Object(r.useState)(),g=Ce()(b,2),v=g[0],f=g[1],h=Object(r.useState)(),S=Ce()(h,2),y=S[0],I=S[1],w=Object(r.useState)(!1),E=Ce()(w,2),C=E[0],A=E[1],O=ai_grading_useRequestGradingByPeer(),k=O.requestGradingByPeer,P=O.requestGradingByPeerState;Object(r.useEffect)((function(){I("")}),[v]),Object(r.useEffect)((function(){A(m&&!!v&&!!y)}),[m,v,y]);var T=function(){var e=Vi()(_i()().mark((function _callee(){var e,r,a;return _i()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(C){s.next=2;break}return s.abrupt("return");case 2:return r="".concat(v,"|").concat(y),s.next=5,k({courseId:t,itemId:i,submissionId:n,reason:r});case 5:null!=(a=s.sent)&&null!==(e=a.data)&&void 0!==e&&e.PeerReviewAi_RequestGradingByPeer.submissionId&&o();case 7:case"end":return s.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}();return Object(Rt.d)(Kn.a,{"aria-describedby":"request-human-grading-dialog",open:!0,variant:"transactional",onClose:a,sticky:"actions"},Object(Rt.d)(s,null,st()("Do you want to switch to peer grading?")),Object(Rt.d)(c,{id:"request-human-grading-dialog"},Object(Rt.d)(Bn.a,{container:!0,spacing:24},Object(Rt.d)(Bn.a,{item:!0,xs:12},Object(Rt.d)(ai_grading_RegradeTermsCheck,{onChange:p})),Object(Rt.d)(Bn.a,{item:!0,xs:12},Object(Rt.d)(Ui.a,{label:st()("Why are you switching to peer grading?"),placeholder:st()("Select an option"),fullWidth:!0,onChange:function(e){f(e.target.value)}},Wi.map((function(e){return Object(Rt.d)(Li.a,{value:e.key,key:e.key},e.label)})))),v&&Object(Rt.d)(Bn.a,{item:!0,xs:12},Object(Rt.d)(Mi.a,{label:st()("Tell us more"),placeholder:st()("Enter text here"),value:y||"",onChange:function(e){return I(e.target.value)},fullWidth:!0,maxLength:250}))),P.error&&Object(Rt.d)(Pt.a,{severity:"error",title:st()("Error"),css:Ji.error,onDismiss:function(){return P.reset()}},st()("Something went wrong while submitting your request. Please try again."))),Object(Rt.d)(u,null,Object(Rt.d)(_t.a,{disabled:!C||P.loading,onClick:T},st()("Continue")),Object(Rt.d)(_t.a,{variant:"secondary",onClick:a,css:Ji.cancelButton},st()("Cancel"))))},RegradeButton_RegradeButton=function(e,t){var n=e.courseId,i=e.courseSlug,a=e.submissionId,o=e.itemId,s=e.disabled,c=Object(r.useState)(!1),u=Ce()(c,2),d=u[0],m=u[1],handleClose=function(){return m(!1)};return r.createElement(r.Fragment,null,d&&r.createElement(ai_grading_RegradeDialog,{courseId:n,itemId:o,submissionId:a,onClose:handleClose,onSuccess:function(){handleClose(),t.executeAction(yt.d,{itemId:o,userId:Object(l.b)().id,courseId:n,courseSlug:i})}}),r.createElement(_t.a,{variant:"ghost",size:"small",onClick:function(){return m(!0)},disabled:s,"data-testid":"to-peer-grading-btn"},st()("Switch to peer grading")))};RegradeButton_RegradeButton.contextTypes={executeAction:b.a.func.isRequired};var Xi,Ki=RegradeButton_RegradeButton,Zi=(t("TSlG"),Object(gn.b)(Object(c.a)(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore","ProgressStore"],(function(e,t){var n,i,r=e.PeerViewSubmissionStore,a=e.PeerPermissionsAndProgressesStore,o=e.ProgressStore,s=r.getState().submissionAndRelated,c=r.getState().reviewSubmissionState,u="loaded"===r.getState().loadState;u&&null!=c&&(i=c.backboneReviews);var d=a.getState().receivedReviewProgresses,l=d&&d.evaluationIfReady?{typeName:"structured",definition:d.evaluationIfReady.aggregatedReviewsSummary}:null,m=o.courseProgress.getItemProgress(t.computedItem.id),p=new Oi.a(t.itemMetadata,m),b=r.getState().submissionId,g=s&&s.reviewSchema,v=Object.values((null==g?void 0:g.definition.parts)||{}).findIndex((function(e){return"multiLineInput"===e.typeName}))>-1;return{submission:r.getState().naptimeSubmission,submissionId:b,reviews:i,reviewSchema:g,hasTextRubric:v,submissionSchema:r.getState().naptimeSubmissionSchema,reviewsSummary:l,gaveRequiredReviews:0===p.remainingReviewCount(),submittedForAiGrading:void 0!==b&&"AI"===(null===(n=r.getState().submissionAndRelated)||void 0===n?void 0:n.submission.gradingType),isPeerViewSubmissionStoreLoaded:u,isFailed:p.isFailed(),isEvaluated:p.isEvaluated(),versionedAssignmentId:s&&s.submission.versionedAssignmentId}})),Object(m.a)((function(e){return e.isPeerViewSubmissionStoreLoaded}),r.createElement(Se.a,{className:"rc-PeerSubmissionWithReviewsBody"})))((function(e){var t,n=e.courseId,i=e.courseSlug,a=e.reviews,o=e.reviewSchema,c=e.reviewsSummary,u=e.computedItem,d=e.gaveRequiredReviews,l=e.isFailed,m=e.isEvaluated,p=e.submission,b=e.submissionId,g=e.submissionSchema,v=e.isResubmissionDisabled,f=e.submittedForAiGrading,h=e.versionedAssignmentId,S=e.hasTextRubric,y=Object(Yn.b)(),I=y.isAssignmentFullyAiGraded,w=y.peerReviewEventingV3Data,E=Object(Ue.i)(u.courseId,u.id),C="peer"!==u.contentSummary.typeName,A=Object(r.useMemo)((function(){return!!a&&a.length>0&&(m||!C)}),[m,C,a]),O=Object(r.useMemo)((function(){return!(!f&&I)&&(!!(I||d||l)&&(!(u.isGraded&&!Object(ft.E)(u))&&A))}),[u,d,l,A,f,I]),k=Object(r.useCallback)((function(e){return 0!==(null!=o?s()(o.definition.parts).filter((function(t){return t.submissionSchemaPartId===e})):[]).length&&O}),[o,O]),P=Object(Ne.e)("view_page_section",q()(q()({pageSection:{sectionName:O?"peer_my_project_graded":"peer_my_project_submitted"}},w),{},{peerReview:q()(q()({},w.peerReview),{},{isSubmittedForAiGraded:f})})),T=I?A:d&&A,x=Object(ui.a)(o),j=null!==(t=u.isReadOnlyAfterSessionEnd)&&void 0!==t&&t;return r.createElement("div",{ref:P,className:"rc-PeerSubmissionWithReviewsBody"},r.createElement(Ni.a,{isAIGraded:f,courseId:n,itemId:u.id,submissionId:b},k()&&r.createElement(ji.a,{fullWidth:!0},r.createElement(xi.a,null,r.createElement(Ai.a,{reviewSchema:x,reviewsSummary:c,reviews:a,submissionSchemaPartId:null,submissionId:b,isAIGraded:f,enableTranslation:!0,courseId:n,isAssignmentLevelParts:!0}))),!(!g||!p)&&g.parts.map((function(e){return r.createElement(ji.a,{key:e.id},r.createElement(Ti.a,{submissionSchemaPart:e,submissionPart:p.parts[e.id]}),k(e.id)&&r.createElement(xi.a,null,r.createElement(Ai.a,{reviewSchema:x,reviewsSummary:c,reviews:a,submissionSchemaPartId:e.id,submissionId:b,isAIGraded:f,enableTranslation:!0,courseId:n})))})),E&&h&&r.createElement(Ci.a,{assignmentId:h,assignmentType:$e.a.PGA}),f&&(T||l)?r.createElement(ai_grading_AiSubmissionControls,{moreAttemptsAvailable:!!b&&!v,hasTextRubric:S,isAssignmentFullyAiGraded:I},!!b&&!v&&r.createElement(Pi.a,{computedItem:u,buttonMessage:st()("Start new attempt")}),!I&&r.createElement(Ki,{courseId:n,courseSlug:i,submissionId:b||"",itemId:u.id,disabled:j})):!!b&&!v&&r.createElement(Bn.a,{container:!0,justifyContent:"flex-end"},r.createElement(Pi.a,{computedItem:u,buttonMessage:st()("Start new attempt")})),null!=b&&r.createElement(ki.a,{computedItem:u,courseId:n,submissionId:b})))}))),er=t("zxx9"),tr=(t("kljU"),Object(gn.b)(Object(c.a)(["PeerViewSubmissionStore","CourseStore","SessionStore","PeerPermissionsAndProgressesStore"],(function(e){var t,n,i,r,a,o,s,c=e.PeerViewSubmissionStore,u=e.CourseStore,d=e.SessionStore,l=e.PeerPermissionsAndProgressesStore,m=c.getState().submissionAndRelated;return m&&(s=m.submission.definition.title,o=m.submission.id,a=m.submission.createdAt),{title:s,submissionId:o,lastSaveTime:a,reviews:null===(t=c.getState())||void 0===t?void 0:null===(n=t.reviewSubmissionState)||void 0===n?void 0:n.reviews,courseId:u.getCourseId(),courseSlug:u.getCourseSlug(),courseBranchId:d.getBranchId()||u.getCourseId(),isAnonymousPeerReviewEnabled:(null===(i=l.getState().capabilitiesWithReasons)||void 0===i?void 0:null===(r=i.anonymousPeerReview)||void 0===r?void 0:r.isAllowed)||!1}})),Object(m.a)((function(e){return e.submissionId})),d.b.createTrackedContainer((function(){return{namespace:{page:"peer_review_my_project_review"}}})))((function(e){var t=e.lastSaveTime,n=e.computedItem,i=e.itemMetadata,a=e.title,o=e.submissionId,s=e.courseBranchId,c=e.courseId,u=e.courseSlug,d=e.isResubmissionDisabled,l=e.reviews,m=e.isAnonymousPeerReviewEnabled;return(r.createElement("div",{className:"rc-PeerItemSubmittedView rc-AssignmentSubmit"},r.createElement(kt,{itemId:n.id,courseBranchId:s,courseId:c,hasSubmitted:!0}),r.createElement(components_PeerAnonymousReviewNotification,{reviews:l}),r.createElement(er.a,{title:a,createdAt:t,shareableLink:m?void 0:r.createElement(Ei.a,{computedItem:n,submissionId:o})}),r.createElement(Zi,{courseId:c,courseSlug:u,computedItem:n,itemMetadata:i,isResubmissionDisabled:d})))}))),nr=function(e){function PeerItemSubmit(){return e.apply(this,arguments)||this}return i()(PeerItemSubmit,e),PeerItemSubmit.prototype.render=function(){var e=this.props,t=e.isSubmitted,n=e.latestSubmissionId,i=e.computedItem,a=e.loadedPeerViewSubmissionId,o=e.isResubmissionDisabled,s=e.itemMetadata,c=a!==n;return r.createElement(he,{isSubmitted:t,editView:r.createElement(wi,{computedItem:i}),submittedView:c?Xi||(Xi=r.createElement(Se.a,{className:"rc-PeerItemSubmit"})):r.createElement(tr,{computedItem:i,itemMetadata:s,isResubmissionDisabled:o})})},PeerItemSubmit}(r.Component),ir=s.a.compose(d.b.createTrackedContainer((function(){return{namespace:{page:"peer_review_my_project"}}})),Object(c.a)(["CourseStore","PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],(function(e){var t=e.CourseStore,n=e.PeerViewSubmissionStore,i=e.PeerPermissionsAndProgressesStore;return{isPeerProgressesLoaded:"loaded"===i.getState().loadState,loadedPeerViewSubmissionId:n.getState().submissionId,isSubmitted:i.getState().isSubmitted,latestSubmissionId:i.getState().latestSubmissionId,courseId:t.getCourseId()}})),Object(m.a)((function(e){return e.isPeerProgressesLoaded}),r.createElement(Se.a,{className:"rc-PeerItemSubmit"})),Object(u.a)((function(e,t){var n=t.computedItem,i=t.courseId,r=t.isSubmitted,a=t.latestSubmissionId,o=t.loadedPeerViewSubmissionId;r&&a&&(o!==a&&e.executeAction(ye.d,{userId:Object(l.b)().id,courseId:i,itemId:n.id,submissionId:a}))})))(nr);e.default=ir},"4uky":function(module,e,t){"use strict";var n=t("q1tI"),i=t("EqTq"),r=(t("QUzv"),Object(i.a)("PeerAnonymousNotification"));e.a=function(e){var t=e.children;return(n.createElement("div",{className:r()},t))}},"7Diq":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("+KAk"),o=(t("X129"),function(e){var t=e.reviewSchemaPart,n=Object(a.a)(t.get("typeName")).DisplayPart;return r.createElement("div",{className:"rc-DisplayPart"},r.createElement(n,e))}),s=t("yhVA"),c=t.n(s),u=(t("WS07"),function(e){function DisplayParts(){return e.apply(this,arguments)||this}return i()(DisplayParts,e),DisplayParts.prototype.render=function(){var e=this.props,t=e.reviewSchema,n=e.reviewsSummary,i=e.reviews,a=e.submissionSchemaPartId,s=e.submissionId,u=e.assignmentLevelPointsLabel,d=e.isAssignmentLevelParts,l=e.isAIGraded,m=e.enableTranslation,p=e.courseId,b=t.getPartsForSubmissionSchemaPart(a);return 0===b.length?null:r.createElement("div",{className:"rc-DisplayParts bgcolor-white"},r.createElement("div",{className:"title horizontal-box align-items-spacebetween label-text color-secondary-text"},r.createElement("span",null,null!=a?c()("Rubric"):c()("Overall Assignment Rubric")),r.createElement("span",null,null===a&&u)),r.createElement("div",{className:"body-1-text"},b.map((function(e){return r.createElement(o,{key:e.get("id"),reviewSchemaPart:e,reviewsSummary:n,reviews:i,submissionId:s,isAIGraded:l,isAssignmentLevelPart:d,enableTranslation:m,courseId:p})}))))},DisplayParts}(r.Component));e.a=u},"8mmq":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RequestGradingByPeer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PeerReviewAi_RequestGradingByPeerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"PeerReviewAi_RequestGradingByPeer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submissionId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:157}};e.loc.source={body:"mutation RequestGradingByPeer($input: PeerReviewAi_RequestGradingByPeerInput!) {\n  PeerReviewAi_RequestGradingByPeer(input: $input) {\n    submissionId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.RequestGradingByPeer=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"RequestGradingByPeer")},"9ZYf":function(module,exports,e){},AOca:function(module,exports,e){e("Qo1F")},AbQT:function(module,exports){function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="AbQT"},C2np:function(module,e,t){"use strict";var n,i,r,a,o,s,c,u,d,l,m,p=t("q1tI"),b=t("lSNA"),g=t.n(b),v=t("3tO9"),f=t.n(v),h=t("VbXa"),S=t.n(h),y=t("VkAN"),I=t.n(y),w=t("AeFk"),E=t("17x9"),C=t.n(E),A=t("HOoY"),O=t("sQ/U"),k=t("l1rq"),P=t("fw5G"),T=t.n(P),x=t("S+eF"),j=t.n(x),N=t("DnuM"),R=Object(N.a)("/api/onDemandPeerComments.v1",{type:"rest"}),D=["comment","attachedAssignmentId","creatorId","createdAt","peerSubmissionId","".concat("onDemandSocialProfiles.v1","(userId,externalUserId,fullName,photoUrl,courseRole,isAnonymous)")],onDemandPeerCommentsApi_getComments=function(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submissionId,a=(new T.a).addQueryParam("q","submission").addQueryParam("userId",t.toString()).addQueryParam("peerSubmissionId","".concat(n,"~").concat(i,"~").concat(r)).addQueryParam("fields",D.join(",")).addQueryParam("includes","profiles");return j()(R.get(a.toString())).then((function(e){return{comments:e.elements,userProfiles:e.linked["onDemandSocialProfiles.v1"]}}))},onDemandPeerCommentsApi_submitComment=function(e){var t=e.courseId,n=e.itemId,i=e.submissionId,r=e.comment,a=(new T.a).addQueryParam("fields",D.join(",")).addQueryParam("includes","profiles");return j()(R.post(a.toString(),{data:{comment:r,peerSubmissionId:"".concat(t,"~").concat(n,"~").concat(i)}})).then((function(e){return{comments:e.elements,userProfiles:e.linked["onDemandSocialProfiles.v1"]}}))},V=t("wd/R"),U=t.n(V),L=t("ca6j"),M=t("jJyI"),F=t("yhVA"),G=t.n(F),q={container:function(){return Object(w.c)(n||(n=I()(["\n    display: flex;\n    padding: var(--cds-spacing-150) 0;\n    margin-top: var(--cds-spacing-50);\n  "])))},profileImage:function(){return Object(w.c)(i||(i=I()(["\n    margin-right: var(--cds-spacing-150);\n  "])))},commentContainer:function(){return Object(w.c)(r||(r=I()(["\n    width: 100%;\n  "])))},nameAndTimeContainer:function(){return Object(w.c)(a||(a=I()(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: var(--cds-spacing-50);\n    margin-bottom: var(--cds-spacing-150);\n  "])))}},comments_CommentRow=function(e){var t=e.commentData,n=t.creator,i=t.comment,r=e.courseId;return Object(w.d)("div",{css:q.container,"data-testid":"peer-comment-row"},Object(w.d)("div",{css:q.profileImage},Object(w.d)(L.a,{profile:n})),Object(w.d)("div",{css:q.commentContainer},Object(w.d)("div",{css:q.nameAndTimeContainer},Object(w.d)(k.a,{className:"pii-hide",variant:"subtitleMedium",component:"strong","data-testid":"peer-comment-full-name"},n.isAnonymous?G()("Anonymous Learner"):n.fullName),Object(w.d)(k.a,{component:"div",variant:"bodySecondary",color:"supportText"},U()(i.createdAt).fromNow())),Object(w.d)(k.a,{component:"div",variant:"bodyPrimary","data-testid":"peer-comment-content"},Object(w.d)(M.a,{content:i.comment.definition.comment,courseId:r,eventingSectionName:"peer_comment"}))))},B=t("dhC9"),H=t("ZJgU"),W={container:function(){return Object(w.c)(o||(o=I()(["\n    display: flex;\n  "])))},profileImage:function(){return Object(w.c)(s||(s=I()(["\n    margin-right: var(--cds-spacing-150);\n  "])))},inputContainer:function(){return Object(w.c)(c||(c=I()(["\n    width: 100%;\n  "])))},input:function(){return Object(w.c)(u||(u=I()(["\n    label {\n      display: none;\n    }\n\n    div {\n      margin-top: 0 !important;\n    }\n  "])))},buttonContainer:function(){return Object(w.c)(d||(d=I()(["\n    display: flex;\n    flex-direction: row-reverse;\n    margin-top: var(--cds-spacing-150);\n  "])))}},z=function(e){function CommentTextArea(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={posting:!1},t.onChange=function(e){var n=e.target.value;t.setState({comment:n})},t.onPostClick=function(){var e=t.props.onPostingComment,n=t.state.comment;n&&(t.setState({posting:!0}),e(n).then((function(){t.setState({comment:"",posting:!1})})))},t}return S()(CommentTextArea,e),CommentTextArea.prototype.render=function(){var e=this.props,t=e.submissionId,n=e.isReadOnly,i=this.state,r=i.comment,a=i.posting,o=null!=n&&n;return Object(w.d)("div",{css:W.container},Object(w.d)("div",{className:"pii-hide",css:W.profileImage},Object(w.d)(L.a,{profile:{photoUrl:Object(O.b)().photo_120,fullName:Object(O.b)().fullName}})),Object(w.d)("div",{css:W.inputContainer},Object(w.d)(B.a,{fullWidth:!0,multiline:!0,label:G()("Enter Peer Review comments"),value:r,id:"".concat(t,"~comment"),placeholder:G()("Share your thoughts..."),onChange:this.onChange,disabled:a||o,maxRows:3,css:W.input}),r&&Object(w.d)("div",{css:W.buttonContainer},Object(w.d)(H.a,{variant:"secondary",size:"small",onClick:this.onPostClick,loading:a},G()("Post")))))},CommentTextArea}(p.Component),Q={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",SUBMITING:"SUBMITING",SUBMIT_ERROR:"SUBMIT_ERROR",READY:"READY"},Y={container:function(){return Object(w.c)(l||(l=I()(["\n    padding: 0 var(--cds-spacing-50);\n  "])))},inputContainer:function(){return Object(w.c)(m||(m=I()(["\n    margin-top: var(--cds-spacing-150);\n  "])))}},J=function(e){function CommentsContainer(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={commentRowData:[],networkState:Q.READY},t.onCommentFetchSuccess=function(e){var n=e.comments,i=e.userProfiles.reduce((function(e,t){return f()(f()({},e),{},g()({},t.userId,t))}),{});t.setState({commentRowData:n.map((function(e){return{comment:e,creator:i[e.creatorId]}})),networkState:Q.READY})},t.onPostingComment=function(e){var n=t.props,i=n.courseId,r=n.itemId,a=n.submissionId,o=t.context._eventData;return t.setState({networkState:Q.SUBMITING}),onDemandPeerCommentsApi_submitComment({comment:{typeName:"plain",definition:{comment:e}},courseId:i,itemId:r,submissionId:a}).then((function(){A.a.trackComponent(o,{comment_user_id:Object(O.b)().id,comment:e},"click","post")})).catch((function(){t.setState({networkState:Q.SUBMIT_ERROR})})).then(t.fetchComments)},t.fetchComments=function(){var e=t.props,n=e.courseId,i=e.itemId,r=e.submissionId;return onDemandPeerCommentsApi_getComments({userId:Object(O.b)().id,courseId:n,itemId:i,submissionId:r}).then(t.onCommentFetchSuccess).catch((function(){t.setState({networkState:Q.LOAD_ERROR})}))},t}S()(CommentsContainer,e);var t=CommentsContainer.prototype;return t.componentDidMount=function(){this.setState({networkState:Q.LOADING}),this.fetchComments()},t.componentDidUpdate=function(e){var t=this.props,n=t.courseId,i=t.itemId,r=t.submissionId;e.courseId===n&&e.itemId===i&&e.submissionId===r||this.fetchComments()},t.render=function(){var e=this.props,t=e.courseId,n=e.submissionId,i=e.isReadOnly,r=this.state,a=r.commentRowData,o=r.networkState;return Object(w.d)("div",{css:Y.container,"data-testid":"peer-comments-section"},o!==Q.READY&&Object(w.d)("p",null,function(e){return{LOADING:G()("Loading..."),LOAD_ERROR:G()("Load error!"),SUBMITING:G()("Submitting..."),SUBMIT_ERROR:G()("Submit error!")}[e]}(o)),Object(w.d)(k.a,{component:"h3",variant:"subtitleMedium"},G()("Comments")),Object(w.d)(k.a,{component:"p",variant:"bodySecondary","data-testid":"peer-comments-caption-text"},G()("Comments left for the learner are visible only to that learner and the person who left the comment.")),Object(w.d)("div",{css:Y.inputContainer},Object(w.d)(z,{submissionId:n,onPostingComment:this.onPostingComment,isReadOnly:i})),Object(w.d)("div",null,a.map((function(e){return Object(w.d)(comments_CommentRow,{commentData:e,courseId:t,key:"".concat(e.comment.createdAt,"~").concat(e.comment.creatorId)})}))))},CommentsContainer}(p.Component);J.contextTypes={_eventData:C.a.object};var X=J;t("c82m"),t("AOca"),e.a=function(e){var t,n=e.computedItem,i=e.submissionId,r=e.courseId,a=null!==(t=n.isReadOnlyAfterSessionEnd)&&void 0!==t&&t;return p.createElement("div",{className:"rc-CommentsSection card-rich-interaction cozy"},p.createElement(X,{courseId:r,itemId:n.id,submissionId:i,isReadOnly:a}))}},CLNb:function(module,e,t){"use strict";var n,i=t("VkAN"),r=t.n(i),a=t("AeFk"),o=(t("q1tI"),t("FdHa")),s=t("eJW0"),c=t.n(s),u={container:function(){return Object(a.c)(n||(n=r()(["\n    border-left: 1px solid var(--cds-color-neutral-stroke-primary-weak);\n    height: 100%;\n    min-height: 100%;\n    flex: 1 1 0px;\n\n    .title {\n      margin-bottom: var(--cds-spacing-300);\n    }\n\n    "," {\n      display: block;\n      border-left: 0;\n      border-bottom: 1px solid var(--cds-color-neutral-stroke-primary-weak);\n    }\n  "])),o.a.down("sm"))}};e.a=function(e){var t=e.children,n=e.ariaLabel;return t?Object(a.d)("div",{className:"rc-SubmissionViewCell",role:"region",css:u.container,"aria-label":n&&c()("Review prompt: #{ariaLabel}",{ariaLabel:n})},t):null}},EGbX:function(module,exports,e){},FCT0:function(module,e,t){"use strict";var n,i,r,a=t("J4zp"),o=t.n(a),s=t("VkAN"),c=t.n(s),u=t("AeFk"),d=t("q1tI"),l=t("sQ/U"),m=t("nNSt"),p=t("kvW3"),b=t("l1rq"),g=t("ZJgU"),v=t("HXet"),f=t.n(v),h={root:Object(u.c)(n||(n=c()(["\n    margin-bottom: var(--cds-spacing-300);\n    margin-top: var(--cds-spacing-300);\n  "]))),linkButton:Object(u.c)(i||(i=c()(["\n    background: none;\n    padding: 0;\n    color: var(--cds-color-interactive-primary);\n    text-decoration: underline;\n    margin-bottom: var(--cds-spacing-50);\n  "])))},viva_exam_VivaExamSubmissionNotification=function(e){var t=e.setShowIntegrityCheckSubmission,n=e.isIncompleteSubmission;return Object(u.d)("div",null,n?Object(u.d)(m.a,{severity:"information",css:h.root},Object(u.d)(b.a,{variant:"bodyPrimary",component:"div"},f()("You did not complete the Integrity Check for this submission."))):Object(u.d)(m.a,{severity:"information",css:h.root},Object(u.d)(p.b,{message:f()("You completed the Integrity Check for this submission. {viewIncidentDetails}"),viewIncidentDetails:Object(u.d)(g.a,{variant:"ghost",css:h.linkButton,onClick:function(){t(!0)}},f()("View Integrity Check"))})))},S=t("R7/4"),y=t("MW9T"),I=t("I8ZN"),w={error:Object(u.c)(r||(r=c()(["\n    margin-top: var(--cds-spacing-200);\n  "])))};e.a=function(e){var t,n=e.assignmentId,i=e.assignmentType,r=Object(d.useState)(!1),a=o()(r,2),s=a[0],c=a[1],p=null===(t=Object(l.b)())||void 0===t?void 0:t.id,b=Object(S.a)(n,p,i===I.a.PGA?I.a.PGA:I.a.SGA),g=b.vivaExamQuestions,v=b.errorFromLatestSubmissionData,h=null==g?void 0:g.examSession.totalExpectedQuestions,E=null==g?void 0:g.examSession.isComplete;return Object(u.d)(d.Fragment,null,null!==g&&void 0!==E&&Object(u.d)(viva_exam_VivaExamSubmissionNotification,{setShowIntegrityCheckSubmission:c,isIncompleteSubmission:!E}),s&&h&&Object(u.d)(y.a,{onDismiss:function(){return c(!1)},totalQuestionsCount:h,vivaExamQuestions:g}),v&&Object(u.d)(m.a,{severity:"error",css:w.error},f()("There was an issue with retrieving Integrity Check submission data. Please try again later.")))}},GKzL:function(module,exports,e){var t=e("+lOM"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},IbxQ:function(module,e,t){"use strict";t.d(e,"a",(function(){return useHtmlToCml}));var n=t("q1tI"),i=t("aNDK"),useHtmlToCml=function(e,t){var r,a,o,s=Object(n.useMemo)((function(){return new i.a}),[]);return"html"===(null==e?void 0:e.typeName)?o=s.toCML(e.definition,!0,!0):"Submission_HtmlContent"===(null==e?void 0:e.__typename)&&(o=s.toCML(e.value,!0,!0)),{cmlContent:{typeName:"cml",definition:{dtdId:t||(null==e?void 0:e.dtdId)||(null==e?void 0:null===(r=e.definition)||void 0===r?void 0:r.dtdId)||"assess/1",value:o||(null==e?void 0:e.cmlValue)||(null==e?void 0:null===(a=e.definition)||void 0===a?void 0:a.value)}}}}},Jexy:function(module,e,t){"use strict";var n,i,r,a,o,s,c=t("J4zp"),u=t.n(c),d=t("AeFk"),l=t("q1tI"),m=t("pZLH"),p=t("VkAN"),b=t.n(p),g=t("FdHa"),v=t("7NTc"),f=t("l1rq"),h=t("ZJgU"),S=t("kmRs"),y=t("HXet"),I=t.n(y),w={list:Object(d.c)(n||(n=b()(["\n    margin: var(--cds-spacing-200) 0 var(--cds-spacing-600) 0;\n    padding: 0;\n  "]))),listItem:Object(d.c)(i||(i=b()(["\n    margin: 0 0 var(--cds-spacing-100) var(--cds-spacing-100);\n    padding: 0;\n    list-style-position: inside;\n  "]))),errorIcon:Object(d.c)(r||(r=b()(["\n    position: absolute;\n    left: 0;\n    top: 2;\n    margin-right: var(--cds-spacing-150);\n  "]))),buttons:Object(d.c)(a||(a=b()(["\n    margin-top: var(--cds-spacing-200);\n    "," {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  "])),g.a.down("xs")),button:Object(d.c)(o||(o=b()(["\n    margin-right: var(--cds-spacing-300);\n    margin-bottom: var(--cds-spacing-200);\n  "])))},viva_exam_IntegrityCheckDialog=function(e){var t=e.open,n=e.setShowIntegrityCheckDialog,i=e.setShowIntegrityCheckChat,r=v.a.HeadingGroup,a=v.a.Content,o=v.a.Actions;return Object(d.d)(v.a,{"aria-labelledby":"dialog-heading","aria-describedby":"dialog-content",open:t,variant:"transactional",role:"alertdialog",renderInPlace:!0,"data-testid":"integrity-check-dialog"},Object(d.d)(r,null,I()("Great job! Continue to Integrity Check.")),Object(d.d)(a,null,Object(d.d)(f.a,{variant:"bodyPrimary",component:"div"},I()("Next up is Integrity Check, an AI-moderated Q&A where you'll discuss your submission further by answering 5 questions. Integrity Check isn’t timed or graded but your answers will help show graders your work is your own."))),Object(d.d)(o,null,Object(d.d)("div",{css:w.buttons},Object(d.d)(h.a,{css:w.button,variant:"primary",onClick:function(){n(!1),i(!0)},icon:s||(s=Object(d.d)(S.a,{size:"medium"}))},I()("Start Integrity Check")))))},E=t("PcyD"),C=t.n(E),A=t("MW9T"),O=t("I8ZN");e.a=function(e){var t=e.courseId,n=e.assignmentId,i=e.redirectToCoverPage,r=e.showIntegrityCheckDialog,a=e.setShowIntegrityCheckDialog,o=e.assignmentType,s=Object(l.useState)(!1),c=u()(s,2),p=c[0],b=c[1],g=Object(l.useState)(0),v=u()(g,2),f=v[0],h=v[1],S=Object(l.useState)(null),y=u()(S,2),I=y[0],w=y[1],E=Object(l.useState)(null),k=u()(E,2),P=k[0],T=k[1],x=Object(l.useState)(!1),j=u()(x,2),N=j[0],R=j[1],D=Object(m.a)(C.a,{context:{clientName:"gatewayGql"}}),V=u()(D,2),U=V[0],L=V[1],M=L.loading,F=L.called;return Object(l.useEffect)((function(){r&&!F&&function handleStartExam(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;U({variables:{courseId:t,assignmentId:n,assignmentType:o===O.a.PGA?O.a.PGA:O.a.SGA}}).then((function(t){var n,i,r=t.data;if("VivaExam_StartExamSuccess"===(null==r?void 0:null===(n=r.VivaExam_StartExam)||void 0===n?void 0:n.__typename)){var a=r.VivaExam_StartExam.examSession.questions[0].question;T(r.VivaExam_StartExam.examSession.id),w(a),h(r.VivaExam_StartExam.examSession.totalExpectedQuestions)}else if("VivaExam_StartExamFailure"===(null==r?void 0:null===(i=r.VivaExam_StartExam)||void 0===i?void 0:i.__typename)){var o=r.VivaExam_StartExam.errors;(null==o?void 0:o.some((function(e){return"VivaExam_Retriable_Error"===e.__typename})))&&e<3?handleStartExam(e+1):R(!0)}})).catch((function(){R(!0)}))}()}),[r,F]),Object(d.d)(l.Fragment,null,Object(d.d)(viva_exam_IntegrityCheckDialog,{open:r,setShowIntegrityCheckDialog:a,setShowIntegrityCheckChat:b}),p&&Object(d.d)(A.a,{onDismiss:function(){b(!1),i()},totalQuestionsCount:f,startExamLoading:M,firstQuestion:I,vivaExamSessionId:P,hasErrorFromInitialQuestionAPI:N,assignmentId:n}))}},N9VI:function(module,exports,e){e("+GGL")},Nfse:function(module,exports,e){e("SHoU")},"O+1n":function(module,e,t){"use strict";var n=t("S+eF"),i=t.n(n),r=t("sQ/U"),a=t("k8gO"),o=t("welz"),s=t.n(o).a.Model.extend({});t.d(e,"a",(function(){return assignmentVerificationTest_fetchVerifiableId})),t.d(e,"b",(function(){return assignmentVerificationTest_verifyAssignment}));var assignmentVerificationTest_fetchVerifiableId=function(){var e=r.a.get().id;return i.a.resolve("".concat(Object(a.a)(),"~").concat(e))},assignmentVerificationTest_verifyAssignment=function(e,t){var n=r.a.get().id;return i.a.resolve(new s({isApprovedForVerificationState:!0,verifiableId:e.split("~")[0],nextVerificationState:"Success",id:e,userId:n,expiresAt:Date.now()+2592e6}))}},Oejf:function(module,exports){module.exports={name:"alice",parameters:[{name:"aliceEnabled",valid:[!0,!1],value:!1}]}},PcyD:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartVivaExamMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"courseId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignmentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VivaExam_AssignmentType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"VivaExam_StartExam"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"courseId"},value:{kind:"Variable",name:{kind:"Name",value:"courseId"}}},{kind:"ObjectField",name:{kind:"Name",value:"assignmentId"},value:{kind:"Variable",name:{kind:"Name",value:"assignmentId"}}},{kind:"ObjectField",name:{kind:"Name",value:"assignmentType"},value:{kind:"Variable",name:{kind:"Name",value:"assignmentType"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VivaExam_StartExamSuccess"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"examSession"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalExpectedQuestions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VivaExam_StartExamFailure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:502}};e.loc.source={body:"mutation StartVivaExamMutation($courseId: ID!, $assignmentId: ID!, $assignmentType: VivaExam_AssignmentType!) {\n  VivaExam_StartExam(input: { courseId: $courseId, assignmentId: $assignmentId, assignmentType: $assignmentType }) {\n    ... on VivaExam_StartExamSuccess {\n      examSession {\n        id\n        totalExpectedQuestions\n        questions {\n          question\n          response\n        }\n      }\n    }\n    ... on VivaExam_StartExamFailure {\n      errors {\n        message\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.StartVivaExamMutation=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"StartVivaExamMutation")},QUzv:function(module,exports,e){e("iUdz")},Qo1F:function(module,exports,e){},SHoU:function(module,exports,e){},T8wf:function(module,e,t){"use strict";var n,i,r=t("VkAN"),a=t.n(r),o=t("AeFk"),s=(t("q1tI"),t("FdHa")),c={container:function(){return Object(o.c)(n||(n=a()(["\n    margin-bottom: var(--cds-spacing-300);\n    width: 100%;\n    border: solid var(--cds-color-neutral-stroke-primary-weak);\n\n    /* don't show the left border - individual cells will do so. */\n    border-width: 1px 1px 1px 0;\n\n    /* if smaller than desktop, show cells vertical instead of horizontal. */\n    "," {\n      display: block;\n\n      /* don't show bottom border - individual cells will do so. */\n      border-width: 1px 1px 0 1px;\n    }\n  "])),s.a.down("sm"))},containerColumn:function(){return Object(o.c)(i||(i=a()(["\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    grid-gap: 0;\n  "])))}};e.a=function(e){var t=e.fullWidth,n=e.children;return Object(o.d)("div",{className:"rc-SubmissionViewTable",css:[c.container,!t&&c.containerColumn]},n)}},TSlG:function(module,exports,e){e("nAcj")},Tqty:function(module,exports,e){e("x39J")},U4Db:function(module,exports,e){},WMAa:function(module,exports,e){e("w2bJ")},WS07:function(module,exports,e){e("rRPC")},X129:function(module,exports,e){e("9ZYf")},Z6wk:function(module,exports,e){},ZSJn:function(module,e,t){"use strict";e.a=function(e){var t=e.type,n=e.courseBranchId,i=e.contextType;this.type=t,this.courseBranchId=n,this.contextType=i}},ZYEf:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("TSYQ"),o=t.n(a),s=t("iNi2"),c=t("IDuc"),u=t("yOiu"),d=t.n(u),l=function(e){function PurchaseCoursePromptButton(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.onClick=function(){return t.setState({showModal:!0})},t.onClose=function(){return t.setState({showModal:!1})},t}return i()(PurchaseCoursePromptButton,e),PurchaseCoursePromptButton.prototype.render=function(){var e=this.state.showModal,t=this.props,n=t.className,i=t.courseId,a=t.buttonText,u=t.buttonClassName;return r.createElement("div",{className:o()("rc-PurchaseCoursePromptButton",n)},r.createElement(c.a,{className:o()("c-open-single-page-action-button",u||"primary"),onClick:this.onClick,trackingName:"upgrade"},a||d()("Upgrade to submit")),e&&r.createElement(s.a,{courseId:i,onClose:this.onClose}))},PurchaseCoursePromptButton}(r.Component);e.a=l},Zr0k:function(module,e,t){"use strict";var n=t("RIqP"),i=t.n(n),r=t("fsL8"),a=t.n(r),o=t("yXPU"),s=t.n(o),c=t("Qp/S"),u=t("Ef0b"),d=t("uhR6"),l=t("DnuM"),m=Object(l.a)("/api/onDemandPeerSubmissionAttempts.v1",{type:"rest"}),startNewAttempt=function(e){var t=e.itemId,n=e.courseId;return m.post("",{data:{courseId:n,itemId:t}})},p=t("Q3zy"),b=t("5AUN"),g=t("Hk9X");t.d(e,"b",(function(){return SubmissionActions_localUpdateSubmission})),t.d(e,"a",(function(){return SubmissionActions_autoSaveSubmission})),t.d(e,"c",(function(){return SubmissionActions_saveSubmission})),t.d(e,"d",(function(){return f})),t.d(e,"f",(function(){return SubmissionActions_upgradeSubmission})),t.d(e,"e",(function(){return SubmissionActions_submitSubmission}));var SubmissionActions_onSaveSuccess=function(e){return function(t){return e.dispatch(d.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(d.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),t}},SubmissionActions_onSaveFailure=function(e){return function(t){if(t.responseJSON||t.status)return e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_SAVE_ERROR,{statusCode:t.status,response:t.responseJSON}),null;throw t}},SubmissionActions_localUpdateSubmission=function(e,t){var n=t.submission;e.dispatch(d.a.PEER_SUBMIT_LOCAL_UPDATE_DRAFT_SUBMISSION,{submission:n})},v=function(){var e=s()(a()().mark((function _callee(e,t){var n,i,r,o;return a()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.isNewDraft,i=t.itemId,r=t.userId,o=t.courseId,n&&e.executeAction(u.b,{itemId:i,userId:r,courseId:o});case 2:case"end":return a.stop()}}),_callee)})));return function(t,n){return e.apply(this,arguments)}}(),SubmissionActions_updateSubmissionDraft=function(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submission;if(null==r.versionedAssignmentId)throw new Error("Error saving draft submission: could not find existing assignment id");return p.c({userId:t,courseId:n,itemId:i,submissionDraftUpdate:{submission:{title:r.definition.title,parts:r.definition.parts},attachedAssignmentId:r.versionedAssignmentId}})},SubmissionActions_autoSaveSubmission=function(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.submission,o=t.isNewDraft,s=t.partnerId;return e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVING),SubmissionActions_updateSubmissionDraft({userId:n,courseId:i,itemId:r,submission:a}).then((function(e){return Object(g.d)(e)})).then(function(e){return function(t){return e.dispatch(d.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(d.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVE_SUCCESS),t}}(e),SubmissionActions_onSaveFailure(e)).then((function(t){return v(e,{userId:n,courseId:i,itemId:r,isNewDraft:o,partnerId:s}),t}))},SubmissionActions_saveSubmission=function(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.submission,o=t.isNewDraft,s=t.partnerId;return e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_SAVING),SubmissionActions_updateSubmissionDraft({userId:n,courseId:i,itemId:r,submission:a}).then((function(e){return Object(g.d)(e)})).then(SubmissionActions_onSaveSuccess(e),SubmissionActions_onSaveFailure(e)).then((function(t){return v(e,{userId:n,courseId:i,itemId:r,isNewDraft:o,partnerId:s}),t}))},f=function(){var e=s()(a()().mark((function _callee2(e,t){var n,i,r,o;return a()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.courseId,i=t.courseSlug,r=t.userId,o=t.itemId,e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_SAVING),a.next=4,startNewAttempt({courseId:n,itemId:o});case 4:return e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),a.abrupt("return",e.executeAction(u.d,{itemId:o,userId:r,courseId:n,courseSlug:i}));case 6:case"end":return a.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}(),SubmissionActions_upgradeSubmission=function(e,t){t.assignmentVersion;var n=t.forceUpgradeToAssignmentVersion,i=t.itemId,r=t.courseId,a=t.courseSlug,o=t.userId,s=t.submission;if(null==s.versionedAssignmentId)throw new Error("Error upgrading assignment: could not find existing assignment id");var c="".concat(s.versionedAssignmentId.split("@")[0],"@").concat(n);return p.a({userId:o,courseId:r,itemId:i,forceUpgradeToAssignmentId:c}).then((function(e){return Object(g.f)(e)})).then((function(e){return SubmissionActions_updateSubmissionDraft({itemId:i,submission:e,courseId:r,userId:o})})).then((function(e){return Object(g.d)(e)})).catch(SubmissionActions_onSaveFailure(e)).then((function(){return e.executeAction(u.d,{itemId:i,userId:o,courseId:r,courseSlug:a})}))},SubmissionActions_submitSubmission=function(e,t){var n=t.itemId,r=t.submission,a=(t.assignmentVersion,t.verifiableId),o=t.courseId,s=t.courseSlug,l=t.userId,m=t.gradingType,p=void 0===m?"HUMAN":m,v=Object(c.i)(o,n);return e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_SUBMITTING),SubmissionActions_updateSubmissionDraft({itemId:n,submission:r,courseId:o,userId:l}).then((function(e){return Object(g.d)(e)})).then(SubmissionActions_onSaveSuccess(e),SubmissionActions_onSaveFailure(e)).then((function(e){var t=!1;e&&e.errorTree&&e.errorTree.errors&&(t=!![].concat(i()(e.errorTree.errors),i()(Object.keys(e.errorTree.children).reduce((function(t,n){return[].concat(i()(t),i()(e.errorTree.children[n].errors))}),[]))).some((function(e){return e.blocksSubmit})));if(t||!e)throw new Error("submit blocked by errors");return e})).then((function(e){return b.d({courseId:o,itemId:n,verifiableId:a,draftCreatedAt:e.submission.createdAt,gradingType:p})})).then((function(){return e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_SUBMIT_SUCCESS),e.executeAction(u.d,{itemId:n,userId:l,courseId:o,courseSlug:s,forceRefresh:!v})})).catch((function(){e.dispatch(d.a.PEER_SUBMISSION_APP_STATE_SUBMIT_ERROR)}))}},awLj:function(module,exports,e){e("Z6wk")},c82m:function(module,exports,e){e("3w12")},fiqM:function(module,e,t){"use strict";var n,i,r,a,o=t("q1tI"),s=t("pVnL"),c=t.n(s),u=t("MnCE"),d=t("+ojs"),SvgInfo_SvgInfo=function(e){return o.createElement(d.a,c()({},e,{viewBox:"0 0 48 48"}),n||(n=o.createElement("title",null,"Info")),i||(i=o.createElement("path",{d:"M24,46 C11.869,46 2,36.131 2,24 C2,11.869 11.869,2 24,2 C36.131,2 46,11.869 46,24 C46,36.131 36.131,46 24,46 M24,0 C10.767,0 0,10.767 0,24 C0,37.233 10.767,48 24,48 C37.233,48 48,37.233 48,24 C48,10.767 37.233,0 24,0"})),r||(r=o.createElement("path",{d:"M24,16 C25.105,16 26,15.104 26,14 C26,12.896 25.105,12 24,12 C22.895,12 22,12.896 22,14 C22,15.104 22.895,16 24,16"})),a||(a=o.createElement("polygon",{points:"25.4962 20.0093 20.4962 20.0093 20.4962 22.0093 23.4962 22.0093 23.4962 34.0093 20.4962 34.0093 20.4962 36.0093 28.4962 36.0093 28.4962 34.0093 25.4962 34.0093"})))};(SvgInfo_SvgInfo=Object(u.i)(SvgInfo_SvgInfo)).displayName="SvgInfo";var l,m=SvgInfo_SvgInfo,p=(t("Nfse"),function(e){var t=e.translatedMsg;return(o.createElement("div",{className:"rc-LightNotification"},l||(l=o.createElement("div",{className:"icon"},o.createElement(m,{size:24,color:"white"}))),o.createElement("span",{className:"message"},t)))}),b=t("yhVA"),g=t.n(b);e.a=function(){return o.createElement(p,{translatedMsg:g()("Follow the instructions to complete this activity. Your grade will be updated after review by course staff.")})}},iUdz:function(module,exports,e){},jcHc:function(module,exports,e){e("oQxv")},kljU:function(module,exports,e){e("2RWD")},nAcj:function(module,exports,e){},nsyj:function(module,e,t){"use strict";var n,i,r=t("VbXa"),a=t.n(r),o=t("q1tI"),s=t("TSYQ"),c=t.n(s),u=t("Ev5W"),components_GitRepoView=function(e){var t=e.submissionPart;return(o.createElement(u.a,{repositoryId:t.gitRepositoryId,launchRole:t.launchRole,courseId:t.courseId,itemId:t.itemId,learnerUserId:t.submitterUserId}))},d=t("fiqM"),l=t("PNHL"),m=t("rlpc"),p=t("CLNb"),b=t("0OjG"),translation_TranslatedPlainTextView=function(e){var t=e.submissionPart,n=e.enableTranslation;return(o.createElement("span",{className:"rc-PlainTextView"},t.plainText&&o.createElement("p",{className:"body-1-text",style:{whiteSpace:"pre-line",wordWrap:"break-word"}},o.createElement(b.a,{plainText:t.plainText,enableTranslation:n}))))},g=t("UW5Q"),v=t("+t46"),translation_TranslatedRichTextView=function(e){var t=e.submissionPart,n=e.enableTranslation;return(o.createElement(g.a,null,o.createElement(v.a,{content:t.richText,assumeStringIsHtml:!0,enableTranslation:n})))},f=t("beC1"),h=t("yhVA"),S=t.n(h),y=(t("awLj"),function(e){function SubmissionPartView(){return e.apply(this,arguments)||this}a()(SubmissionPartView,e);var t=SubmissionPartView.prototype;return t.renderSpecificPart=function(){var e=this.props,t=e.submissionPart,i=e.showAutoSubmittedNote,r=e.enableTranslation;if(!t)return null;switch(t.typeName){case"plainText":return o.createElement(translation_TranslatedPlainTextView,{submissionPart:t.definition,enableTranslation:r});case"richText":return o.createElement(translation_TranslatedRichTextView,{submissionPart:t.definition,enableTranslation:r});case"url":return o.createElement(m.a,{submissionPart:t.definition});case"fileUpload":return o.createElement(l.a,{submissionPart:t.definition});case"offPlatform":return i&&(n||(n=o.createElement(d.a,null)));case"git":return o.createElement(components_GitRepoView,{submissionPart:t.definition});default:return null}},t.render=function(){var e=this.props,t=e.submissionSchemaPart,n=e.isInvalid,r=c()("rc-SubmissionPartView","bgcolor-white",{invalid:n});return o.createElement(p.a,null,o.createElement("div",{className:r},o.createElement("div",{className:"title label-text color-secondary-text"},S()("Prompt")),o.createElement("div",{className:"prompt caption-text color-secondary-text"},o.createElement(f.a,{content:t.prompt,assumeStringIsHtml:!0})),o.createElement("div",{className:"body-1-text scrollable"},this.renderSpecificPart()),n&&(i||(i=o.createElement("div",{className:"body-2-text color-danger"},"Invalid submission part")))))},SubmissionPartView}(o.Component));y.defaultProps={isInvalid:!1,showAutoSubmittedNote:!1};e.a=y},o5Sl:function(module,e,t){"use strict";var n,i,r,a,o=t("J4zp"),s=t.n(o),c=t("q1tI"),u=t("MnCE"),d=t("8cuT"),l=t("BVC1"),m=t("vXr1"),p=t("gNwb"),b=t("KBPx"),g=t("3tO9"),v=t.n(g),f=t("VkAN"),h=t.n(f),S=t("AeFk"),y=t("sQ/U"),I=t("FdHa"),w=t("7NTc"),E=t("l1rq"),C=t("ZJgU"),A=t("8xbv"),O=t("mHyk"),k=t("pVnL"),P=t.n(k),T=t("VbXa"),x=t.n(T),j=t("17x9"),N=t.n(j),R=t("PStO"),D=t("Zr0k"),V=t("g0DA"),U=t("gO9+"),L=t("yhVA"),M=t.n(L),F={primaryButton:function(){return Object(S.c)(n||(n=h()(["\n    "," {\n      width: 100%;\n      max-width: none;\n    }\n  "])),I.a.down("xs"))},buttonText:Object(S.c)(i||(i=h()(["\n    height: 24px;\n  "]))),secondaryButton:function(){return Object(S.c)(r||(r=h()(["\n    margin: 0 var(--cds-spacing-300) 0;\n    "," {\n      width: 100%;\n      max-width: none;\n      margin: var(--cds-spacing-300) 0 0;\n    }\n  "])),I.a.down("xs"))}},G=Object(u.b)((function(e){return Object(u.b)(R.b.createContainer((function(){return{}})),(function(e){var t;return(t=function(t){function Wrapper(){return t.apply(this,arguments)||this}return x()(Wrapper,t),Wrapper.prototype.render=function(){return c.createElement(e,P()({},this.props,this.context))},Wrapper}(c.Component)).displayName="withFluxibleContextAsProps(".concat(e.displayName||e.name||"Component",")"),t.contextTypes={executeAction:N.a.func,executeMutation:N.a.func,getStore:N.a.func},t}))(e)}))((function(e){var t=e.handleCancel,n=e.executeAction,i=e.computedItem.id,r=e.courseId,o=e.courseSlug,u=e.submittedForAiGrading,d=w.a.HeadingGroup,l=w.a.Content,m=w.a.Actions,p=Object(c.useState)(!1),b=s()(p,2),g=b[0],f=b[1],h=Object(V.b)().peerReviewEventingV3Data,I=v()({button:{name:U.a.START_NEW_ATTEMPT}},h);return Object(S.d)(w.a,{"aria-describedby":"dialog-content",open:!0,onClose:t},Object(S.d)(d,null,M()("Ready to start a new attempt?")),Object(S.d)(l,{id:"dialog-content"},Object(S.d)(E.a,{variant:"bodyPrimary",component:"p"},u&&M()("Your new attempt will clear your previous submission and AI grade. If you cancel and don't attempt again, what you've submitted will count towards your final grade."),!u&&M()("Your new attempt will clear your previous submission and peer review feedback. If you cancel and don't attempt again, what you've submitted will count towards your final grade."))),Object(S.d)(m,null,Object(S.d)(O.a,{css:F.primaryButton,disabled:g,size:"medium",variant:"primary",onClick:function(){var e=Object(y.b)().id;f(!0),n(D.d,{itemId:i,userId:e,courseId:r,courseSlug:o})},"aria-label":M()("Continue"),trackingData:I,noViewTracking:!0},Object(S.d)("span",{css:F.buttonText,"aria-hidden":!0},g?a||(a=Object(S.d)(A.a,null)):M()("Continue"))),Object(S.d)(C.a,{css:F.secondaryButton,size:"medium",variant:"secondary",onClick:t},M()("Cancel"))))}));e.a=Object(u.b)(Object(d.a)(["PeerPermissionsAndProgressesStore","CourseStore","PeerSubmissionAppStateStore","PeerViewSubmissionStore"],(function(e){var t,n,i,r,a,o,s=e.PeerPermissionsAndProgressesStore,c=e.CourseStore,u=e.PeerSubmissionAppStateStore,d=e.PeerViewSubmissionStore,l="loaded"===s.getState().loadState,m=!(null!==(t=s.getState().submissionProgress)&&void 0!==t&&t.latestAttemptSummary),p=null===(n=s.getState().submissionProgress)||void 0===n?void 0:null===(i=n.latestAttemptSummary)||void 0===i?void 0:i.remainingAttempts,b="AI"===(null===(r=d.getState().submissionAndRelated)||void 0===r?void 0:r.submission.gradingType);return{hasLoaded:l,canDelete:((null===(a=s.getState())||void 0===a?void 0:a.capabilities)||[]).includes("deleteSubmission"),courseId:c.getCourseId(),courseSlug:c.getCourseSlug(),canStartNewAttempt:m||!!p&&p>0,startAttemptState:null===(o=u.getState())||void 0===o?void 0:o.saveState,submittedForAiGrading:b}})))((function(e){var t=e.hasLoaded,n=e.canDelete,i=e.computedItem,r=e.courseId,a=e.courseSlug,o=e.canStartNewAttempt,u=e.startAttemptState,d=e.buttonSize,g=void 0===d?"small":d,v=e.submittedForAiGrading,f=Object(m.b)(),h=Object(c.useState)(!1),S=s()(h,2),y=S[0],I=S[1],w=Object(b.a)(u),E=Object(c.useCallback)((function(){I(!1)}),[]);return Object(c.useEffect)((function(){t&&"saving"===w&&"ready"===u&&(f.push(l.a.join(i.resourcePath,"submit")),E())}),[t,i.resourcePath,u,w,f,E]),t?c.createElement(c.Fragment,null,c.createElement(p.c,{variant:"secondary",disabled:!n||!o||i.isReadOnlyAfterSessionEnd,onClick:function(){I(!0)},trackingName:"reattempt_project_submission",size:g},M()("Start new attempt")),y&&c.createElement(G,{computedItem:i,courseId:r,courseSlug:a,handleCancel:E,submittedForAiGrading:v})):null}))},oQxv:function(module,exports,e){},qPyB:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("eJMc"),o=t.n(a),s=t("DnuM"),c=t("BVC1"),u=t("sQ/U"),d=t("hbUA"),l=t("yhVA"),m=t.n(l),p=Object(s.a)("/api/onDemandPeerSubmissions.v1",{type:"rest"}),b=function(e){function PeerItemShareableLink(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showLink:!1},t}i()(PeerItemShareableLink,e);var t=PeerItemShareableLink.prototype;return t.componentDidMount=function(){var e=this,t=this.props.computedItem;p.post("?action=disableUrlSharing&userId=".concat(Object(u.b)().id,"&courseId=").concat(t.courseId),{data:{}}).then((function(t){!1===t&&e.setState({showLink:!0})}))},t.render=function(){var e=this.props,t=e.computedItem,n=e.submissionId,i=this.state.showLink;if(Object(d.u)(t)||!i)return null;var a=c.a.join([t.resourcePath,"review",n]);return(r.createElement(o.a,{to:a,className:"rc-PeerItemShareableLink"},m()("Shareable Link")))},PeerItemShareableLink}(r.Component);e.a=b},rC9M:function(module,exports,e){var t,n,i;window,i=function(e,t,n){return function(n){return n&&"_t"in n&&(t=n._t.merge(t)),function(n){var i,r=[],a=n||{};return function(t){r.push('<div class="hide confirm-navigation modal"><div class="modal-header"><h3>'+e.escape(null==(i=t("Confirm Navigation"))?"":i)+'</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>'+e.escape(null==(i=t("Are you sure you want to leave this page?"))?"":i)+'</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="passive confirm-navigation-stay">'+e.escape(null==(i=t("Stay on this Page"))?"":i)+'</button>&nbsp;&nbsp;<button data-modal-close="data-modal-close" data-modal-action="leave" class="primary confirm-navigation-leave">'+e.escape(null==(i=t("Leave this Page"))?"":i)+"</button></div></div>")}.call(this,"_t"in a?a._t:void 0!==t?t:void 0),r.join("")}(n)}},t=[e("xgPa"),e("GKzL")],void 0===(n=function(e,t){return i(e,t)}.apply(exports,t))||(module.exports=n)},rRPC:function(module,exports,e){},w2bJ:function(module,exports,e){},x39J:function(module,exports,e){},xmcF:function(module,e,t){"use strict";var n,i=t("VbXa"),r=t.n(i),a=t("q1tI"),o=t("17x9"),s=t.n(o),c=t("jGbM"),u=t("sQ/U"),d=t("fw5G"),l=t.n(d),m=t("DnuM"),p=t("nZ8s"),b=Object(m.a)("/api/aliceMessages.v1",{type:"rest"}),AliceActions_publishAliceNotification=function(e,t){var n=t.event,i=n.type;return e.getStore("AliceStore").getMessagesForEventType(i)||(e.dispatch("REQUESTING_ALICE_MESSAGES",{eventType:i}),function(e){var t,n=e.type,i=e.courseBranchId,r=e.contextType;return i?t=(new l.a).addQueryParam("q","byBranchAndEventType").addQueryParam("eventType",n).addQueryParam("branchId",i):r&&(t=(new l.a).addQueryParam("q","byContextAndEventType").addQueryParam("eventType",n).addQueryParam("contextType",r)),b.get(t.toString()).then((function(t){return t.elements.map((function(t){return new p.a(t.id,t.definition&&t.definition.itemId,t.definition&&t.definition.moduleId,t.definition&&t.definition.weekNumber,t.definition&&t.definition.title,t.definition&&t.definition.message,t.definition&&t.definition.dataSourceDescription,t.definition&&t.definition.action,t.definition&&t.definition.epicToShowNamespace,t.definition&&t.definition.epicToShowParameter,e.type)}))}))}(n).then((function(t){e.dispatch("CACHE_ALICE_MESSAGES",{eventType:i,messages:t})}))),e.dispatch("PUBLISH_ALICE_NOTIFICATION",{event:n})},clearAliceNotification=function(e){e.dispatch("CLEAR_ALICE_NOTIFICATION")},g=t("KMW/"),v=t("Oejf"),f=t.n(v);null===(n=g.a.addDefaults)||void 0===n||n.call(g.a,[f.a]);var h={get:function(e,t){return g.a.get("alice",e,t)},preview:function(e,t,n){return g.a.preview("alice",e,t)}};function withAliceNotification(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}};return function(n){var i=n.displayName||n.name,o=function(i){function WithAliceNotificationWrapper(n,r){var a;(a=i.call(this,n,r)||this).publish=function(){var t=e(a.props),n=a.context.executeAction;t?n(AliceActions_publishAliceNotification,{event:t}):n(clearAliceNotification)};var o=h.get("aliceEnabled",t(n))||u.a.isSuperuser();return a.state={enabled:o},a}r()(WithAliceNotificationWrapper,i);var o=WithAliceNotificationWrapper.prototype;return o.componentDidMount=function(){this.state.enabled&&this.publish()},o.componentDidUpdate=function(){this.state.enabled&&this.publish()},o.componentWillUnmount=function(){var e=this.state.enabled,t=this.context.executeAction;e&&t(clearAliceNotification)},o.render=function(){return a.createElement(n,Object.assign({},this.props))},WithAliceNotificationWrapper}(a.Component);return o.displayName=i+"WithAliceNotificationConnector",o.contextTypes={executeAction:s.a.func},Object(c.a)(o,n),o}}t.d(e,"a",(function(){return withAliceNotification}))},zxx9:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("dcEN"),o=t.n(a),s=t("17x9"),c=t.n(s),u=t("kvW3"),d=t("yhVA"),l=t.n(d),m=(t("N9VI"),function(e){function MySubmissionHeader(){return e.apply(this,arguments)||this}return i()(MySubmissionHeader,e),MySubmissionHeader.prototype.render=function(){var e=this.props,t=e.title,n=e.createdAt,i=e.shareableLink;return(r.createElement("div",{className:"rc-MySubmissionHeader bt3-clearfix"},r.createElement("div",{className:"headline-4-text"},t),r.createElement("div",{className:"horizontal-box"},!!n&&r.createElement("div",{className:"caption-text color-secondary-text"},r.createElement(u.b,{message:l()("Submitted on {creatorName}"),creatorName:o()(n).format("LL")})),i&&r.createElement("div",{className:"flex-1 align-right caption-text"},i))))},MySubmissionHeader}(r.Component));m.propTypes={title:c.a.string.isRequired,createdAt:c.a.number,shareableLink:c.a.element},e.a=m}}]);
//# sourceMappingURL=en.27.8d0ce2e43114fbba7248.js.map