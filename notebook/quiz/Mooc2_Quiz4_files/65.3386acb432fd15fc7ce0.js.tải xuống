(window.webpackJsonp=window.webpackJsonp||[]).push([[65,66],{"/oRK":function(module,e,t){"use strict";var n,i,o=t("VkAN"),r=t.n(o),a=t("AeFk"),s=(t("q1tI"),t("zXDh")),u=t("l1rq"),d=t("RSmF"),c=t("kWps"),l=t("XWId"),m=t("d3Ej"),p=t.n(m),b={header:Object(a.c)(n||(n=r()(["\n    display: flex;\n    align-items: center;\n\n    // Overwrite button styles from TranslationDropdown.tsx\n    button {\n      top: 0;\n    }\n  "]))),dueText:Object(a.c)(i||(i=r()(["\n    margin-right: var(--cds-spacing-100);\n  "])))};e.a=function(e){var t=e.deadline,n=e.remainingTimeInMs,i=e.timerId,o=e.showTimer,r=e.pageStatusComponent,m=e.showLanguagesDropdown,f=e.courseId;return Object(a.d)("div",{"data-e2e":"HeaderRight",css:b.header},m&&Object(a.d)(l.default,{courseId:f,wrapperElement:"div"}),Object(a.d)("div",null,t&&Object(a.d)("div",{"data-e2e":"HeaderRight__deadline"},Object(a.d)(u.a,{variant:"subtitleMedium",component:"span",css:b.dueText,style:{display:Object(s.isUserRightToLeft)()?"block":"initial"}},p()("Due")),Object(a.d)(u.a,{variant:"bodySecondary",component:"span"},Object(c.b)(t))),r,o&&"number"==typeof n&&i&&Object(a.d)("div",{"data-e2e":"HeaderRight__timer"},Object(a.d)(d.a,{timerId:i,remainingTimeInMs:n,displayRemaining:!0}))))}},"0n3a":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),o=t("Y+p1"),r=t.n(o),a=t("sEfC"),s=t.n(a),u=t("q1tI"),d=3e3,c=function(e){function AutoSaveDraft(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._isMounted=!1,t.setAutoSavingStepState=function(e){var n=t.props.setStepState;n&&n({isAutoSaving:e})},t.save=function(){var e=t.props,n=e.saveDraft,i=e.stepState;t._isMounted&&(i.isSubmitting?t.autoSaveDraft.cancel():i.isAutoSaving||i.isSaving?t.autoSaveDraft():n&&(t.setAutoSavingStepState(!0),n().then((function(){t.setAutoSavingStepState(!1)}))))},t.autoSaveDraft=s()(t.save,t.props.debounceWaitTime||d),t}i()(AutoSaveDraft,e);var t=AutoSaveDraft.prototype;return t.componentDidUpdate=function(e){var t=this.props.changedResponses;this._isMounted&&(r()(t,e.changedResponses)||this.autoSaveDraft())},t.componentDidMount=function(){this._isMounted=!0},t.componentWillUnmount=function(){this._isMounted=!1},t.render=function(){return(0,this.props.children)()},AutoSaveDraft}(u.Component);e.a=c},"4QSv":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),o=t("lSNA"),r=t.n(o),a=t("AeFk"),s=t("q1tI"),u=t("kvW3"),d=t("JJfJ"),c=t("ZJgU"),l=t("+B42"),m=t("6/Gu"),p=t("8Hdl"),b=t("l1rq"),f=t("jpwg"),v=t("PSZr"),g=t("bOpO"),S=t("22Sa"),I=t("izmZ"),y=t("GZYn"),h=t("xXQ2"),O=t("VtNW"),j=t.n(O),D={getRootStyles:function(e){return function(t){return e===y.a.FINISHED||e===y.a.PASSED?Object(a.c)({backgroundColor:t.palette.green[100]}):Object(a.c)({backgroundColor:t.palette.red[100]})}},innerContainer:function(e){return Object(a.c)({paddingTop:e.spacing(16)})},buttonContainer:function(e){return Object(a.c)(r()({display:"flex",alignItems:"center",flexDirection:"row-reverse"},e.breakpoints.down("sm"),{margin:e.spacing(24,0,8,32),flexDirection:"row"}))},leftContainer:Object(a.c)({display:"flex"}),statusIcon:function(e){return Object(a.c)({marginTop:e.spacing(8),marginRight:e.spacing(12)})},detailsContainer:function(e){return Object(a.c)(r()({display:"flex",marginTop:e.spacing(8)},e.breakpoints.only("xs"),{flexDirection:"column"}))},detailDescription:function(e){return Object(a.c)({marginRight:e.spacing(16)})},getGradePercentStyles:function(e){return function(t){return e===y.a.PASSED?Object(a.c)({color:t.palette.green[700]}):e===y.a.FAILED||e===y.a.FAILED_NO_ATTEMPT_LEFT?Object(a.c)({color:t.palette.red[700]}):Object(a.c)({color:t.palette.black[500]})}}},E=function(e){function AttemptPageTopBanner(){return e.apply(this,arguments)||this}i()(AttemptPageTopBanner,e);var t=AttemptPageTopBanner.prototype;return t.componentDidMount=function(){var e=document.getElementById(S.a);e&&(e.scrollTop=0)},t.render=function(){var e=this.props,t=e.itemGrade,n=e.computedScore,i=e.maxScore,o=e.passingFraction,s=e.isCumulativeGraded,S=e.onKeepLearningClick,O=e.onTryAgainClick,E=e.lockingConfigurationSummary,R=e.remainingAttempts,A=e.stateType,C=e.attemptScore,P=t||{},T=P.grade,x=void 0===T?0:T,k=P.isPassed,Q=Object(h.a)(E),B=Object(y.c)(R),z=B||"number"==typeof Q,q=A||Object(y.b)(k,s,R),w=r()(r()(r()(r()({},y.a.FAILED,Object(a.d)(f.a,{color:"error",title:j()("Assessment not passed")})),y.a.FAILED_NO_ATTEMPT_LEFT,Object(a.d)(f.a,{color:"error",title:j()("Assessment not passed")})),y.a.FINISHED,Object(a.d)(v.a,{color:"success",title:j()("Assessment passed")})),y.a.PASSED,Object(a.d)(v.a,{color:"success",title:j()("Assessment passed")}));return Object(a.d)("div",{css:D.getRootStyles(q),"data-e2e":"AttemptPageTopBanner"},Object(a.d)(l.a,null,Object(a.d)(m.a,{item:!0,container:!0,justifyContent:"center"},Object(a.d)(m.a,{item:!0,container:!0,xs:12,lg:8,css:D.innerContainer},Object(a.d)(m.a,{item:!0,md:9,xs:12},Object(a.d)("div",{css:D.leftContainer},Object(a.d)("div",{css:D.statusIcon},w[q]),Object(a.d)("div",null,Object(a.d)(p.a,{variant:"h1semibold",component:"h2"},function(e){switch(e){case y.a.PASSED:return j()("Congratulations! You passed!");case y.a.FAILED:return j()("Try again once you are ready");case y.a.FAILED_NO_ATTEMPT_LEFT:return j()("You did not pass this assignment");default:return j()("You finished this assignment")}}(q)),Object(a.d)("div",{css:D.detailsContainer},Object(a.d)("div",{css:D.detailDescription},Object(a.d)(p.a,{variant:"h2semibold",component:"span"},j()("Grade received"))," ",Object(a.d)(p.a,{variant:"h2",component:"span"},Object(a.d)("span",{css:D.getGradePercentStyles(q)},Object(a.d)(I.a,{value:x})),Object(a.d)(g.a,{itemGrade:t,computedScore:n,maxScore:i}))),"number"==typeof C&&Object(a.d)("div",{css:D.detailDescription},Object(a.d)(p.a,{variant:"h2semibold",component:"span"},j()("Latest Submission Grade"))," ",Object(a.d)(p.a,{variant:"h2",component:"span"},Object(a.d)(I.a,{value:C}))),"number"==typeof o&&!s&&Object(a.d)("div",{css:D.detailDescription},Object(a.d)(p.a,{variant:"h2semibold",component:"span"},j()("To pass"))," ",Object(a.d)(p.a,{variant:"h2",component:"span"},Object(a.d)(u.b,{message:j()("{minPercentage} or higher"),minPercentage:Object(a.d)(I.a,{value:o})}))),B&&Object(a.d)(p.a,{variant:"h2semibold",component:"div"},j()("0 Attempt Left")))))),Object(a.d)(m.a,{item:!0,md:3,xs:12,css:D.buttonContainer},Object(a.d)("div",null,function(e,t,n,i){if(e===y.a.FAILED){if(i)return null;if(n)return Object(a.d)(c.a,{variant:"primary",onClick:n},j()("Try again"))}else if(t)return Object(a.d)(c.a,{variant:"primary",onClick:t},j()("Go to next item"));return null}(q,S,O,z)),z&&Object(a.d)("div",null,Object(a.d)(b.a,{variant:"bodySecondary",component:"span"},!B&&"number"==typeof Q&&Object(a.d)(u.b,{message:j()("Retake the assignment in {attemptLimitTimeLeft}"),attemptLimitTimeLeft:Object(a.d)("strong",null,Object(d.x)(Q))}))))))))},AttemptPageTopBanner}(s.Component);e.a=E},A9b0:function(module,e,t){"use strict";t.r(e);var n,i,o,r,a,s=t("VbXa"),u=t.n(s),d=t("AeFk"),c=t("q1tI"),l=t("MnCE"),m=t("+LJP"),p=t("sQ/U"),b=t("RH4a"),f=t("4QSv"),v=t("oe9u"),g=t("/oRK"),S=t("22Sa"),I=t("I5Bh"),y=t("zaiP"),h=t("wIYG"),O=t("kIii"),j=t("tcH/"),D=t("JEIr"),E=t("wjH1"),R=t("0n3a"),A=t("agp5"),C=t("VkAN"),P=t.n(C),T=t("Gcrz"),x=t("UYTu"),k=t("BkRI"),Q=t.n(k),B=t("3tO9"),z=t.n(B),q=t("O5zz"),w={contentRequestBody:{argument:[]}},F={contentRequestBody:[]},M=Object(x.a)(n||(n=P()(['\n  query practiceQuizSessionMetaDataQuery($itemId: String!, $userId: Int!, $slug: String!, $body: String!) {\n    practiceQuizSessionMetaData(body: $body, itemId: $itemId, userId: $userId, slug: $slug)\n      @rest(\n        type: "RestPracticeQuizSessionMetadata"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizSessionDataResponseBody")\n    }\n  }\n']))),L=Object(x.a)(i||(i=P()(['\n  query practiceQuizDataQuery(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $skipFetchingResponses: Boolean!\n  ) {\n    practiceQuizQuestionData(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "RestPracticeQuizQuestionGetStateData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/getState?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          parts\n          questions\n          nextSubmissionDraftId\n        }\n      }\n    }\n    practiceQuizQuestionResponses(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @skip(if: $skipFetchingResponses)\n      @rest(\n        type: "RestPracticeQuizLatestSubmissionDraftResponse"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/getLatestSubmissionDraft?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          draft\n        }\n      }\n    }\n  }\n']))),lib_PracticeQuizData=function(e){var t=e.slug,n=e.itemId,i=e.userId,o=e.fetchPolicy,r=void 0===o?"cache-first":o,a=e.examSessionId,s=e.children,u={slug:t,itemId:n,userId:i};return c.createElement(T.c,{query:M,variables:z()(z()({},u),{},{body:F}),fetchPolicy:r,skip:!!a},(function(e){var t=e.loading,n=e.data,i=e.refetch;if(t&&!a)return s({loading:t});var o=a||((((n||{}).practiceQuizSessionMetaData||{}).contentResponseBody||{}).session||{}).id;return(c.createElement(T.c,{query:L,variables:z()(z()({},u),{},{sessionId:o,body:w,skipFetchingResponses:!!a}),fetchPolicy:r},(function(e){var t,n,r,u,d=e.loading,c=e.data,l=e.refetch,m=e.client;if(d)return s({loading:d});var p=(null==c?void 0:null===(t=c.practiceQuizQuestionData)||void 0===t?void 0:null===(n=t.contentResponseBody)||void 0===n?void 0:n.return)||{},b=p.parts,f=p.questions,v=p.nextSubmissionDraftId,g=((null==c?void 0:c.practiceQuizQuestionResponses)||{}).contentResponseBody,S=((null==g?void 0:null===(r=g.return)||void 0===r?void 0:null===(u=r.draft)||void 0===u?void 0:u.input)||{}).responses,I=Object(q.a)({parts:b,questions:f,responses:S,examSessionId:a});return s(z()(z()({},I),{},{loading:d,practiceQuizFormData:I.quizFormData,sessionId:o,totalPoints:I.totalPoints,isSubmitted:I.isSubmitted,nextSubmissionDraftId:v,hasDraft:I.hasDraft,practiceQuizQuestions:I.quizQuestions,refetchPracticeQuizData:function(){return i().then((function(){return l()}))},client:m}))})))}))},lib_practiceQuizActionMutationUpdate=function(e){return function(t,n){var i=n.data,o=e.itemId,r=e.userId,a=e.slug,s=e.sessionId,u=(((i||{}).action||{}).contentResponseBody||{}).return||null,d=t.readQuery({query:L,variables:{itemId:o,userId:r,slug:a,sessionId:s,skipFetchingResponses:!1,body:w}}),c=((((d=Q()(d))||{}).practiceQuizQuestionData||{}).contentResponseBody||{}).return||null;c&&(c.nextSubmissionDraftId=(u||{}).nextSubmissionDraftId||null,c.questions=(u||{}).questions||c.questions||null,c.parts=(u||{}).parts||c.parts||null,c.evaluation=(u||{}).evaluation||null,t.writeQuery({query:L,variables:{itemId:o,userId:r,slug:a,sessionId:s,skipFetchingResponses:!1,body:w},data:d}))}},N=Object(x.a)(o||(o=P()(['\n  mutation practiceQuizSaveSubmissionDraftActionMutation(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $additionalParams: String!\n  ) {\n    action(\n      itemId: $itemId\n      userId: $userId\n      slug: $slug\n      sessionId: $sessionId\n      body: $body\n      additionalParams: $additionalParams\n    )\n      @rest(\n        type: "PracticeQuizSaveSubmissionDraftData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/saveSubmissionDraft?autoEnroll=false{args.additionalParams}"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          nextSubmissionDraftId\n          questions @skip(if: $skipQuestionsField)\n          parts @skip(if: $skipQuestionsField)\n          evaluation\n        }\n      }\n    }\n  }\n']))),G=Object(x.a)(r||(r=P()(['\n  mutation practiceQuizSubmitResponseActionMutation(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n  ) {\n    action(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "PracticeQuizSubmitResponseData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/submitResponses?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          nextSubmissionDraftId\n          evaluation\n          questions\n          parts\n        }\n      }\n    }\n  }\n']))),PracticeQuizMutations_SaveDraftMutation=function(e){var t=e||{},n=t.changedResponses,i=t.nextSubmissionDraftId,o=t.sessionId,r=t.userId,a=t.itemId,s=t.slug;return(c.createElement(T.b,{mutation:N,update:lib_practiceQuizActionMutationUpdate(e)},(function(t){var u={contentRequestBody:{argument:{id:i,input:{responses:n}}}};return e.children({saveDraft:function(){return t({variables:{body:u,sessionId:o,userId:r,itemId:a,slug:s,skipQuestionsField:!0,additionalParams:""}})},autoSaveDraft:function(){return t({variables:{body:u,sessionId:o,userId:r,itemId:a,slug:s,skipQuestionsField:!0,additionalParams:"&isAutoSaving=true"}})}})})))},PracticeQuizMutations_SubmitDraftMutation=function(e){var t=e||{},n=t.changedResponses,i=t.sessionId,o=t.userId,r=t.itemId,a=t.slug;return(c.createElement(T.b,{mutation:G,update:lib_practiceQuizActionMutationUpdate(e)},(function(t){var s={contentRequestBody:{argument:{responses:n}}};return e.children({submitDraft:function(){return t({variables:{body:s,sessionId:i,userId:o,itemId:r,slug:a}})}})})))},PracticeQuizMutations_PracticeQuizMutations=function(e){e.ids;var t=e.sessionId,n=e.itemId,i=(e.courseId,e.changedResponses),o=e.children,r=e.slug,a=e.userId,s=e.nextSubmissionDraftId;return(c.createElement(PracticeQuizMutations_SaveDraftMutation,{changedResponses:i,nextSubmissionDraftId:s,sessionId:t,userId:a,itemId:n,slug:r},(function(e){var s=e.saveDraft,u=e.autoSaveDraft;return(c.createElement(PracticeQuizMutations_SubmitDraftMutation,{changedResponses:i,sessionId:t,userId:a,itemId:n,slug:r},(function(e){var t=e.submitDraft;return o({saveDraft:s,autoSaveDraft:u,submitDraft:t})})))})))},lib_PracticeQuizActions=function(e){var t=e.ids,n=e.sessionId,i=e.children,o=e.nextSubmissionDraftId;return(c.createElement(y.b,null,(function(e){var r=e.item;if(!r)return null;var a=r.courseId,s=r.id,u=r.courseSlug;return(c.createElement(D.a,{userId:p.a.get().id,itemId:s,slug:u},(function(e){var d=e.refetch;return(c.createElement(A.a,{ids:t},(function(e){return e&&d?c.createElement(b.a,{itemId:s,courseId:a},(function(l){var m=l.stepState,b=l.setStepState,f=e.map((function(e){return{questionInstance:e.id,response:((e.response||{}).definition||{}).value}}));return c.createElement(PracticeQuizMutations_PracticeQuizMutations,{ids:t,sessionId:n,itemId:s,courseId:a,slug:u,userId:p.a.get().id,changedResponses:f,nextSubmissionDraftId:o},(function(t){var n=t.saveDraft,a=t.submitDraft,saveDraft=function(){return m.isSaving||m.isSubmitting||!o?Promise.reject():(b({isSaving:!0}),n().then((function(){return b({isSaving:!1})})).catch((function(e){return Object(E.a)(e,b)})))},autoSaveDraft=function(){return m.isAutoSaving||m.isSubmitting||!o?Promise.reject():(b({isAutoSaving:!0}),n().then((function(){return b({isAutoSaving:!1})})).catch((function(e){return Object(E.a)(e,b)})))},refetchItemAndEvaluations=function(){return d().then((function(){return r.refetch()})).catch((function(e){return Object(E.a)(e,b)}))},submitDraft=function(){return m.isSubmitting?Promise.reject():(b({isSubmitting:!0}),a().then((function(){return b({isSubmitting:!1})})).then(refetchItemAndEvaluations).catch((function(e){return Object(E.a)(e,b)})))};return c.createElement(R.a,{stepState:m,saveDraft:autoSaveDraft,changedResponses:e},(function(){return i({saveDraft:saveDraft,autoSaveDraft:autoSaveDraft,submitDraft:submitDraft})}))}))})):i({})})))})))})))},U=t("w9Ch"),H=t("usGt"),K=t("VtNW"),J=t.n(K);t.d(e,"PracticeQuizAttemptPage",(function(){return Y})),t.d(e,"withRedirectToCover",(function(){return V}));var Y=function(e){function PracticeQuizAttemptPage(){return e.apply(this,arguments)||this}u()(PracticeQuizAttemptPage,e);var t=PracticeQuizAttemptPage.prototype;return t.componentDidMount=function(){var e=this.props,t=e.shouldRedirectToCover,n=e.redirectToCover;t&&n()},t.render=function(){var e=this.props,t=e.redirectToCover,n=e.redirectToNextItem,i=e.addRedirectToCoverToRouteParams,o=e.examSessionId;return Object(d.d)(y.b,null,(function(e){var r=e.item;return r?Object(d.d)(S.b,{onClose:t,ariaLabel:J()("Practice Quiz"),backbuttonAriaLabel:J()("Back to the Course"),headerLeft:Object(d.d)(lib_PracticeQuizData,{slug:r.courseSlug,itemId:r.id,userId:p.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var t=e.totalPoints;return Object(d.d)(v.a,{headerText:r.name,itemTypeText:J()("Practice Quiz"),timeCommitment:r.timeCommitment,totalPoints:t})})),headerRight:Object(d.d)(g.a,{deadline:r.deadline,showLanguagesDropdown:!0}),topBanner:Object(d.d)(D.a,{slug:r.courseSlug,itemId:r.id,userId:p.a.get().id},(function(e){var i=e.bestEvaluation;return Object(d.d)(lib_PracticeQuizData,{slug:r.courseSlug,itemId:r.id,userId:p.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var o=e.isSubmitted,a=(r.contentSummary&&"quiz"===r.contentSummary.typeName&&r.contentSummary.definition||{}).passingFraction,s=Object(U.a)(i),u=s?s>=a:void 0;return o&&a&&"number"==typeof s?Object(d.d)(f.a,{passingFraction:a,itemGrade:{grade:s,isPassed:u||!1,isOverridden:!1,latePenaltyRatio:null},onKeepLearningClick:n,onTryAgainClick:t}):null}))}))},Object(d.d)(I.a,{courseId:r.courseId}),Object(d.d)(lib_PracticeQuizData,{slug:r.courseSlug,itemId:r.id,userId:p.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var t=e.loading,n=e.practiceQuizFormData,o=e.sessionId,s=e.nextSubmissionDraftId,u=e.practiceQuizQuestions,c=e.isSubmitted,l=e.hasDraft;if(t||!n||!u)return a||(a=Object(d.d)(h.a,null));var m=u.map((function(e){return e.prompt.id}));return Object(d.d)(b.a,{itemId:r.id,courseId:r.courseId},(function(e){var t=e.stepState,a=e.setStepState;return Object(d.d)("div",null,Object(d.d)("div",null,Object(d.d)(O.a,{quizFormData:n,isSubmitted:c,stepState:t})),!c&&Object(d.d)(lib_PracticeQuizActions,{ids:m,sessionId:o,nextSubmissionDraftId:s},(function(e){var n=e.saveDraft,o=e.autoSaveDraft,s=e.submitDraft;return Object(d.d)(j.a,{itemId:r.id,courseId:r.courseId,saveDraft:n,autoSaveDraft:o,submitDraft:function(){return s?s().then((function(){i()})):Promise.reject()},hasDraft:l,stepState:t,setStepState:a})})))}))}))):null}))},PracticeQuizAttemptPage}(c.Component),V=Object(l.b)(H.a,Object(m.a)((function(e,t){var n=t.nextItemUrl,i=void 0===n?"":n,o=t.refetchPracticeQuizCoverPageData,r=t.refreshProgress,redirectToCover=function(){o&&o(),e.push({name:"practice-quiz-cover",params:e.params,query:e.location.query}),r()};return{redirectToCover:redirectToCover,redirectToNextItem:function(){i?(e.push(i),r()):redirectToCover()},addRedirectToCoverToRouteParams:function(){e.push({name:"practice-quiz-attempt",params:e.params,query:{redirectToCover:!0}})},shouldRedirectToCover:e.location.query.redirectToCover}})));e.default=V(Y)},GZYn:function(module,e,t){"use strict";t.d(e,"a",(function(){return n})),t.d(e,"c",(function(){return getIsRemainingAttemptsZero})),t.d(e,"b",(function(){return getBannerStateType}));var n={PASSED:"passed",FAILED:"failed",FAILED_NO_ATTEMPT_LEFT:"failed_no_attempt_left",FINISHED:"finished"},getIsRemainingAttemptsZero=function(e){return"number"==typeof e&&0===e},getBannerStateType=function(e,t,i){return e||t?e&&!t?n.PASSED:n.FINISHED:getIsRemainingAttemptsZero(i)?n.FAILED_NO_ATTEMPT_LEFT:n.FAILED}},JEIr:function(module,e,t){"use strict";var n,i=t("3tO9"),o=t.n(i),r=t("VkAN"),a=t.n(r),s=t("q1tI"),u=t("Gcrz"),d=t("UYTu"),c=Object(d.a)(n||(n=a()(['\n  query evaluationsQuery($itemId: String!, $userId: Int!, $slug: String!, $body: String!) {\n    evaluationsQuery(body: $body, itemId: $itemId, userId: $userId, slug: $slug)\n      @rest(\n        type: "RestEvaluations"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/evaluations"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody")\n    }\n  }\n'])));e.a=function(e){var t=e.slug,n=e.userId,i=e.itemId,r=e.children,a={slug:t,itemId:i,userId:n};return s.createElement(u.c,{query:c,variables:o()(o()({},a),{},{body:{contentRequestBody:{}}}),fetchPolicy:"network-only"},(function(e){var t,n=e.loading,i=e.data,o=e.refetch,a=e.client;if(n)return r({loading:n});var s=(null==i?void 0:null===(t=i.evaluationsQuery)||void 0===t?void 0:t.contentResponseBody)||{},u=s.bestEvaluation,d=s.bestSessionId,c=s.lastEvaluation,l=s.lastSessionId,m=s.unsubmittedSessionId;return r({loading:!1,bestSessionId:d,bestEvaluation:u,lastEvaluation:c,lastSessionId:l,unsubmittedSessionId:m,refetch:o,client:a})}))}},O5zz:function(module,e,t){"use strict";var n=t("uFBg"),i=t("w9Ch"),o=t("lSNA"),r=t.n(o),a=t("3tO9"),s=t.n(a),u=t("vU9D"),util_transformQuizPartsToFormData=function(e,t,i){if(!t)return e&&e.map((function(e){var t,o,r,a,s,d;return(null==e?void 0:e.typeName)===n.c||(null==e?void 0:e.typeName)===n.a?e:{typeName:null==e?void 0:e.typeName,definition:{prompt:null==e?void 0:e.definition,response:{typeName:u.e.AUTO_GRADABLE_RESPONSE,definition:{value:i&&null!=e&&null!==(t=e.definition)&&void 0!==t&&null!==(o=t.effectiveResponse)&&void 0!==o&&o.response?null==e?void 0:null===(r=e.definition)||void 0===r?void 0:null===(a=r.effectiveResponse)||void 0===a?void 0:a.response:(s=null==e?void 0:e.definition,"widget"===(null==s?void 0:null===(d=s.question)||void 0===d?void 0:d.type)?{answer:{}}:null)}}}}}));var o=t.reduce((function(e,t){return s()(s()({},e),{},r()({},t.questionInstance,t.response))}),{});return e&&e.map((function(e){var t;if((null==e?void 0:e.typeName)===n.c||(null==e?void 0:e.typeName)===n.a)return e;var i=o[null==e?void 0:null===(t=e.definition)||void 0===t?void 0:t.id];return{typeName:null==e?void 0:e.typeName,definition:{prompt:null==e?void 0:e.definition,response:{typeName:u.e.AUTO_GRADABLE_RESPONSE,definition:{value:i}}}}}))};e.a=function(e){var t,o,r,a,s=e.parts,u=e.questions,d=e.responses,c=e.examSessionId,l=e.evaluation,m=util_transformQuizPartsToFormData(s,d,!!c)||[],p=Object(i.a)(l),b=(null==l?void 0:l.maxScore)||(null==m?void 0:m.reduce((function(e,t){var i,o,r;return(null==t?void 0:t.typeName)===n.c||(null==t?void 0:t.typeName)===n.a?0:e+(null==t?void 0:null===(i=t.definition)||void 0===i?void 0:null===(o=i.prompt)||void 0===o?void 0:null===(r=o.weightedScoring)||void 0===r?void 0:r.maxScore)}),0)),f=null==s?void 0:s.find((function(e){return e.typeName===n.b})),v=!(null!=f&&null!==(t=f.definition)&&void 0!==t&&t.isSubmitAllowed),g="NoDetails"===(null==u?void 0:null===(o=u[0])||void 0===o?void 0:null===(r=o.variant)||void 0===r?void 0:r.detailLevel),S=!!d,I=null==m?void 0:null===(a=m.filter((function(e){return(null==e?void 0:e.typeName)===n.b})))||void 0===a?void 0:a.map((function(e){return null==e?void 0:e.definition}));return{quizFormData:m,attemptScore:p,totalPoints:b,isSubmitted:v,isLimitedFeedback:g,hasDraft:S,quizQuestions:I}}},T8pS:function(module,e,t){"use strict";t.r(e);var n=t("q1tI"),i=t("sQ/U"),o=t("zaiP"),r=t("A9b0"),a=t("JEIr");e.default=function(e){var t=e.nextItemUrl;return(n.createElement(o.b,null,(function(e){var o=e.item;return o&&o.contentSummary?n.createElement(a.a,{slug:o.courseSlug,itemId:o.id,userId:i.a.get().id},(function(e){var i=e.loading,a=e.lastSessionId;return o&&o.contentSummary&&!i?n.createElement(r.default,{examSessionId:a,nextItemUrl:t}):null})):null})))}},kIii:function(module,e,t){"use strict";var n=t("q1tI"),i=t("eK4/"),o=t("AeFk"),r=t("l1rq"),a=t("HDKb"),s=t("5mFy"),u=t("7Dw/"),d=t("Qdou"),c={root:function(e){return Object(o.c)({display:"flex",marginTop:e.spacing(48),marginBottom:e.spacing(48)})},accordionRoot:function(e){return Object(o.c)({marginLeft:"-16px",button:{outline:"none"},padding:e.spacing(0)})},numberCell:Object(o.c)({width:"26px"}),contentCell:Object(o.c)({width:"calc(100% - 26px)"}),cmlContainer:function(e){return Object(o.c)({".rc-CML.cml-cui p":{marginBottom:e.spacing(0)}})}},cds_TextBlock=function(e){var t=e.textBlock,n=e.isCollapsible,i=void 0!==n&&n,l=e.isExpanded,m=void 0!==l&&l,p=Object(o.d)(r.a,{component:"div",variant:"bodyPrimary",css:c.cmlContainer},Object(o.d)(d.a,{value:null==t?void 0:t.body}));return Object(o.d)("div",{css:c.root},Object(o.d)("div",{css:c.contentCell},i?Object(o.d)("div",{css:c.accordionRoot},Object(o.d)(a.a,{variant:"silent",defaultExpanded:m},Object(o.d)(s.a,{label:null==t?void 0:t.title}),Object(o.d)(u.a,null,p))):p))},l=t("uFBg");e.a=function(e){var t,o=e.quizFormData,r=e.isSubmitted,a=e.stepState,s=e.isReadOnly,u=0;return n.createElement(n.Fragment,null,o.map((function(e){if((null==e?void 0:e.typeName)===l.c||(null==e?void 0:e.typeName)===l.a){var o,d,c,m=e;return(null==m?void 0:m.typeName)!==l.a||t||(t=m),n.createElement(cds_TextBlock,{textBlock:null==m?void 0:m.definition,isCollapsible:(null==m?void 0:m.typeName)===l.a,isExpanded:(null===(o=t)||void 0===o?void 0:null===(d=o.definition)||void 0===d?void 0:d.id)===(null==m?void 0:null===(c=m.definition)||void 0===c?void 0:c.id)})}u+=1;var p=(null==e?void 0:e.definition)||e;return(n.createElement(i.a,{key:null==p?void 0:p.prompt.id,quizQuestion:p,index:u-1,isReadOnly:!!r||!!s,isDisabled:!(null==a||!a.isSaving)||!(null==a||!a.isSubmitting)}))})))}},"tcH/":function(module,e,t){"use strict";var n,i,o=t("3tO9"),r=t.n(o),a=t("VbXa"),s=t.n(a),u=t("AeFk"),d=t("q1tI"),c=t("HOoY"),l=t("ZJgU"),m=t("8xbv"),p=t("PB6g"),b=t("aFpJ"),f=t("EqTq"),v=t("sF8w"),g=Object(f.a)("BasicErrorModalDisplayManager"),S=function(e){function BasicErrorModalDisplayManager(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={showErrorModal:!1},t.handleErrorConfirm=function(){var e=t.props.setStepState;t.setState({showErrorModal:!1}),e({errorCode:null})},t}s()(BasicErrorModalDisplayManager,e);var t=BasicErrorModalDisplayManager.prototype;return t.componentWillReceiveProps=function(e){var t=e.stepState,n=this.props.stepState;n.errorCode||n.errorCode===t.errorCode||this.setState({showErrorModal:!0})},t.render=function(){var e=this.props.stepState.errorCode,t=this.state.showErrorModal;return d.createElement("div",{className:g()},t&&d.createElement(v.a,{errorCode:e,onPrimaryButtonClick:this.handleErrorConfirm,onCancelButtonClick:this.handleErrorConfirm}))},BasicErrorModalDisplayManager}(d.Component),I=t("CnKM"),y=t("KvdX"),h=t("YmkS"),O=t("qJwm"),j=t("rQpo"),D=t("zaiP"),E=t("8ec0"),R=t("d3Ej"),A=t.n(R),C={root:function(e){return Object(u.c)({margin:e.spacing(48,0)})},buttonsContainer:function(e){return Object(u.c)({marginTop:e.spacing(32),paddingBottom:e.spacing(48),borderBottom:"1px solid ".concat(e.palette.gray[300]),marginBottom:e.spacing(12)})},saveButton:function(e){return Object(u.c)({marginLeft:e.spacing(24)})}},P=function(e){function SubmissionControls(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={canSubmit:!1,announcement:""},t.onSubmitClick=function(){var e=t.props,n=e.hasUnfilledResponses,i=e.updateAndSubmitDraft,o=e.showModal,trackedUpdateAndSubmitDraft=function(){return i&&i().then((function(){c.a.trackComponent({namespace:{app:"open_course",page:"item_page"}},{},"submit","quiz")}))};n?o({type:y.a.unansweredQuestions,props:{onPrimaryButtonClick:trackedUpdateAndSubmitDraft}}):i&&(t.setAnnouncement(A()("Submitting assignment")),trackedUpdateAndSubmitDraft())},t.enableSubmit=function(){t.setState({canSubmit:!0})},t.disableSubmit=function(){t.setState({canSubmit:!1})},t.autoSubmit=function(){var e=t.props,n=e.showModal,i=e.hideModal,o=e.submitLatestSubmissionDraft;n({type:y.a.timeExpiredModal,props:{onPrimaryButtonClick:i}}),o&&o()},t.startAutoSubmitTimeout=function(){var e=t.props.expiresAt;"number"==typeof e&&(t.autoSubmitTimeout=window.setTimeout(t.autoSubmit,e-Date.now()))},t.setAnnouncement=function(e){t.setState({announcement:e},(function(){setTimeout((function(){t.setState({announcement:""})}),150)}))},t.updateDraft=function(){var e=t.props.updateDraft;e&&(t.setAnnouncement(A()("Saving draft submission")),e().then((function(){t.setAnnouncement(A()("Draft submission saved successfully"))})))},t}s()(SubmissionControls,e);var t=SubmissionControls.prototype;return t.componentDidMount=function(){var e=this.props,t=e.hasDraft,n=e.autoSaveDraft,i=e.submitLatestSubmissionDraft;e.isReadOnlyAfterSessionEnd||(!t&&n&&n(),i&&this.startAutoSubmitTimeout())},t.componentDidUpdate=function(e){var t=this.props.expiresAt;e.expiresAt!==t&&this.autoSubmitTimeout&&(clearTimeout(this.autoSubmitTimeout),this.autoSubmitTimeout=null,this.startAutoSubmitTimeout())},t.componentWillUnmount=function(){this.autoSubmitTimeout&&clearTimeout(this.autoSubmitTimeout)},t.render=function(){var e,t,o=this,r=this.props,a=r.stepState,s=a.isSaving,c=a.isSubmitting,f=a.isAutoSaving,v=r.stepState,g=r.setStepState,I=r.updateDraft,y=r.updateAndSubmitDraft,E=r.isReadOnlyAfterSessionEnd,R=this.state,P=R.canSubmit,T=R.announcement,x=s||f,k=x||c||E;return Object(u.d)(D.b,null,(function(r){var a=r.item;return a&&a.isPremiumGradingLocked?Object(u.d)("div",null,Object(u.d)(j.a,{courseId:a.courseId})):Object(u.d)("div",{css:C.root},!E&&Object(u.d)(d.Fragment,null,Object(u.d)("div",null,Object(u.d)(b.a,{onAgreementComplete:o.enableSubmit,onAgreementIncomplete:o.disableSubmit})),Object(u.d)("div",{css:C.buttonsContainer},y&&Object(u.d)(l.a,{"data-test":"submit-button",iconPosition:"before",icon:c?n||(n=Object(u.d)(m.a,null)):void 0,onClick:o.onSubmitClick,disabled:k||!P,variant:"primary"},c?A()("Submitting…"):A()("Submit")),I&&Object(u.d)(l.a,{"data-test":"save-draft-button",iconPosition:"before",icon:x?i||(i=Object(u.d)(m.a,null)):void 0,onClick:o.updateDraft,disabled:!!k,variant:"secondary",css:C.saveButton},x?A()("Saving..."):A()("Save draft")))),Object(u.d)(h.a,{computedItem:a,itemFeedbackType:O.c.Quiz}),Object(u.d)(p.b,{tagName:"span",role:"region","aria-live":"assertive","aria-atomic":!0},T&&(e||(e=Object(u.d)("span",null,T)))),t||(t=Object(u.d)(S,{stepState:v,setStepState:g})))}))},SubmissionControls}(d.Component);e.a=function(e){var t=e.saveDraft,n=e.submitDraft,i=e.hasTimer,o=e.itemId,a=e.isSubmitted;return t&&n?i?Object(u.d)(I.a,{id:Object(E.a)(o)},(function(i){var o=i.expiresAt;return Object(u.d)(y.b,null,(function(i){var s=i.showModal,d=i.hideModal;return a?null:Object(u.d)(P,r()(r()({},e),{},{updateDraft:t,updateAndSubmitDraft:n,showModal:s,hideModal:d,expiresAt:o}))}))})):Object(u.d)(y.b,null,(function(i){var o=i.showModal,s=i.hideModal;return a?null:Object(u.d)(P,r()(r()({},e),{},{updateDraft:t,updateAndSubmitDraft:n,showModal:o,hideModal:s}))})):null}},uFBg:function(module,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}));var n="question",i="textBlock",o="collapsibleTextBlock"},usGt:function(module,e,t){"use strict";var n=t("17x9"),i=t.n(n),o=t("MnCE"),r=t("8cuT"),a=t("k4cE"),s=t("i6HE"),u=t("E4RX"),d=Object(o.b)(Object(o.c)({executeAction:i.a.func.isRequired}),Object(r.a)(["CourseStore"],(function(e,t){var n=e.CourseStore,i=t.executeAction,o=n.getCourseId(),r=n.getCourseSlug();return{refreshProgress:function(){i(s.b,{courseId:o}),i(u.a,{courseId:o,refreshProgress:!0}),i(a.a,{courseSlug:r,refetch:!0})}}})));e.a=d},wIYG:function(module,e,t){"use strict";var n,i=t("q1tI"),o=t("VMeS");e.a=function(){return n||(n=i.createElement("div",{role:"alert","aria-live":"assertive"},i.createElement(o.a,null)))}},wjH1:function(module,e,t){"use strict";var n=t("vU9D");e.a=function(e,t){var i={isSubmitting:!1,isSaving:!1,isAutoSaving:!1,errorCode:n.c.OFFLINE};throw e&&e.networkError&&(403===e.networkError.statusCode?i.errorCode=n.c.AUTH:400===e.networkError.statusCode?i.errorCode=n.c.BAD_REQUEST:409===e.networkError.statusCode?i.errorCode=n.c.CONFLICT:5===Math.floor(parseInt(e.networkError.statusCode,10)/100)&&(i.errorCode=n.c.SERVER_ERROR)),t(i),e}}}]);
//# sourceMappingURL=65.3386acb432fd15fc7ce0.js.map